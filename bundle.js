var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const MapScene_1 = require("./battle/map/view/MapScene");
const RedTipMgr_1 = require("./redTip/RedTipMgr");
const ViewMgr_1 = require("./view/base/ViewMgr");
const PanelRegister_1 = require("./view/base/PanelRegister");
class App {
    constructor() {
        this.init();
    }
    init() {
        Laya.stage.addChild(this.mapScene = new MapScene_1.default);
        this.viewMgr = ViewMgr_1.default.ins;
        this.redTipMgr = new RedTipMgr_1.default;
        ViewMgr_1.default.ins.openPanel(PanelRegister_1.PanelRegister.PANEL4);
    }
}
exports.default = App;
},{"./battle/map/view/MapScene":9,"./redTip/RedTipMgr":11,"./view/base/PanelRegister":26,"./view/base/ViewMgr":27}],2:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
/**This class is automatically generated by LayaAirIDE, please do not make any modifications. */
const GameUI_1 = require("./script/GameUI");
const GameControl_1 = require("./script/GameControl");
const Bullet_1 = require("./script/Bullet");
const DropBox_1 = require("./script/DropBox");
/*
* 游戏初始化配置;
*/
class GameConfig {
    constructor() { }
    static init() {
        var reg = Laya.ClassUtils.regClass;
        reg("script/GameUI.ts", GameUI_1.default);
        reg("script/GameControl.ts", GameControl_1.default);
        reg("script/Bullet.ts", Bullet_1.default);
        reg("script/DropBox.ts", DropBox_1.default);
    }
}
GameConfig.width = 720;
GameConfig.height = 1280;
GameConfig.scaleMode = "showall";
GameConfig.screenMode = "none";
GameConfig.alignV = "top";
GameConfig.alignH = "left";
GameConfig.startScene = "test/Astar.scene";
GameConfig.sceneRoot = "";
GameConfig.debug = false;
GameConfig.stat = false;
GameConfig.physicsDebug = false;
GameConfig.exportSceneToJson = true;
exports.default = GameConfig;
GameConfig.init();
},{"./script/Bullet":13,"./script/DropBox":14,"./script/GameControl":15,"./script/GameUI":16}],3:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const GameConfig_1 = require("./GameConfig");
const ResourceMgr_1 = require("./ResourceMgr");
const PanelRegister_1 = require("./view/base/PanelRegister");
const ViewMgr_1 = require("./view/base/ViewMgr");
const App_1 = require("./App");
class Main {
    constructor() {
        //根据IDE设置初始化引擎		
        if (window["Laya3D"])
            Laya3D.init(GameConfig_1.default.width, GameConfig_1.default.height);
        else
            Laya.init(GameConfig_1.default.width, GameConfig_1.default.height, Laya["WebGL"]);
        Laya["Physics"] && Laya["Physics"].enable();
        Laya["DebugPanel"] && Laya["DebugPanel"].enable();
        Laya.stage.scaleMode = GameConfig_1.default.scaleMode;
        Laya.stage.screenMode = GameConfig_1.default.screenMode;
        //兼容微信不支持加载scene后缀场景
        Laya.URL.exportSceneToJson = GameConfig_1.default.exportSceneToJson;
        //打开调试面板（通过IDE设置调试模式，或者url地址增加debug=true参数，均可打开调试面板）
        if (GameConfig_1.default.debug || Laya.Utils.getQueryString("debug") == "true")
            Laya.enableDebugPanel();
        if (GameConfig_1.default.physicsDebug && Laya["PhysicsDebugDraw"])
            Laya["PhysicsDebugDraw"].enable();
        if (GameConfig_1.default.stat)
            Laya.Stat.show();
        Laya.alertGlobalError = true;
        //激活资源版本控制，version.json由IDE发布功能自动生成，如果没有也不影响后续流程
        Laya.ResourceVersion.enable("version.json", Laya.Handler.create(this, this.onVersionLoaded), Laya.ResourceVersion.FILENAME_VERSION);
    }
    onVersionLoaded() {
        //激活大小图映射，加载小图的时候，如果发现小图在大图合集里面，则优先加载大图合集，而不是小图
        // Laya.AtlasInfoManager.enable("fileconfig.json", Laya.Handler.create(this, this.onConfigLoaded));
        this.onConfigLoaded();
        ResourceMgr_1.default.ins.startCheck();
    }
    onConfigLoaded() {
        //加载IDE指定的场景
        // GameConfig.startScene && Laya.Scene.open(GameConfig.startScene,true,null,Laya.Handler.create(this,this.openScene));
        Main.app = new App_1.default;
        this.createBtn(["btn1", () => { ViewMgr_1.default.ins.openPanel(PanelRegister_1.PanelRegister.PANEL1); }], ["btn2", () => { ViewMgr_1.default.ins.openPanel(PanelRegister_1.PanelRegister.PANEL2); }], ["btn3", () => { ViewMgr_1.default.ins.openPanel(PanelRegister_1.PanelRegister.PANEL3); }]);
    }
    createBtn(...btns) {
        let _x = 0;
        for (let arr of btns) {
            let lab = new Laya.Label;
            lab.color = "#fff";
            lab.text = arr[0];
            Laya.stage.addChild(lab);
            lab.x = _x;
            lab.fontSize = 30;
            _x += 100;
            lab.on(Laya.Event.CLICK, this, arr[1]);
        }
    }
    openScene(sence) {
    }
}
//激活启动类
new Main();
},{"./App":1,"./GameConfig":2,"./ResourceMgr":4,"./view/base/PanelRegister":26,"./view/base/ViewMgr":27}],4:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const ViewMgr_1 = require("./view/base/ViewMgr");
class ResourceMgr {
    constructor() {
        this.clearAtlasQueue = [];
        this.clearQueue = [];
        //大图集引用计数
        this.atlasMap = {};
    }
    static get ins() {
        return ResourceMgr._ins || (ResourceMgr._ins = new ResourceMgr);
    }
    startCheck() {
        Laya.timer.loop(ResourceMgr.checkClearTime, this, this.loopCheckTexture);
        Laya.timer.frameLoop(1, this, this.loopDestroyTexture);
    }
    stopCheck() {
        Laya.timer.clear(this, this.loopCheckTexture);
        Laya.timer.clear(this, this.loopDestroyTexture);
    }
    /**
     * 检测图片资源，如果引用计数为0则添加到销毁队列
     */
    loopCheckTexture() {
        if (this.clearQueue.length)
            return;
        let temp;
        for (let k in Laya.Loader.loadedMap) {
            temp = Laya.Loader.loadedMap[k];
            if (!temp.bitmap)
                continue;
            if (temp["_referenceCount"] == 0 && temp.bitmap["_referenceCount"] == 0) {
                /**简易判断如果是图集就自动不清理（忽略只有一张图片的图集） */
                if (temp.bitmap.width == temp.width
                    && temp.bitmap.height == temp.height) {
                    //压入销毁队列
                    this.clearQueue.push(temp);
                }
            }
        }
    }
    /**
     * 批量销毁图片
     */
    loopDestroyTexture() {
        ViewMgr_1.default.ins.tryDestoryPanel();
        let idx = 0;
        let texture = this.clearQueue.shift();
        while (texture) {
            /**重新判断是否有被引用，避免等待销毁过程中又被引用造成误删 */
            if (texture.bitmap && texture.bitmap["_referenceCount"] == 0) {
                if (texture.url) {
                    // Laya.loader.clearRes(texture.url);
                    this.clearEngineCache(texture.bitmap);
                    idx++;
                }
            }
            if (idx >= ResourceMgr.frameClearCount)
                break;
            texture = this.clearQueue.shift();
        }
        //清理一个大图集
        this.clearOneAtlas();
    }
    //---------------------------------图集---------------------------
    addAtlasRefrence(url) {
        if (this.atlasMap[url]) {
            this.atlasMap[url] = this.atlasMap[url] + 1;
        }
        else {
            this.atlasMap[url] = 1;
        }
    }
    removeAtlasRefrence(url, autoClear = false) {
        if (!this.atlasMap[url]) {
            console.error("图集引用计数逻辑有问题");
        }
        else {
            this.atlasMap[url] = this.atlasMap[url] - 1;
            if (!this.atlasMap[url] && autoClear) {
                this.pushDestoryAtlasQueue(url);
            }
        }
    }
    /**添加清理队列 */
    pushDestoryAtlasQueue(atlas) {
        if (this.clearAtlasQueue.indexOf(atlas) == -1) {
            this.clearAtlasQueue.push(atlas);
        }
    }
    /**执行清理大图集 */
    clearOneAtlas() {
        if (!this.clearAtlasQueue.length)
            return;
        let url;
        //大图集添加引用计数有可能图集还没加载，如果没有资源表示还没加载
        for (let i = 0, len = this.clearAtlasQueue.length; i < len; i++) {
            if (Laya.loader.getRes(this.clearAtlasQueue[i])) {
                url = this.clearAtlasQueue.splice(i, 1)[0];
                break;
            }
        }
        if (url && !this.atlasMap[url]) {
            delete this.atlasMap[url];
            Laya.loader.clearRes(url);
            url = Laya.URL.formatURL(url.substring(0, url.lastIndexOf(".")) + ".png");
            this.clearEngineCache(Laya.loader.getRes(url));
        }
    }
    /**清理引擎的缓存 (彻底清理)*/
    clearEngineCache(texture) {
        if (texture) {
            Laya.Loader.clearRes(texture.url);
            let resource = Laya.Resource.getResourceByID(texture["id"]);
            resource && resource.destroy();
        }
    }
}
//每帧销毁资源最大数量
ResourceMgr.frameClearCount = 2;
ResourceMgr.checkClearTime = 1000;
exports.default = ResourceMgr;
},{"./view/base/ViewMgr":27}],5:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
/**
 * 初始化一次寻路的地图 Astar.ins.init()
 * 开启寻路 Astar.ins.findPath()
 *
 */
class AStar {
    constructor() {
        this.openList = [];
        this.closeList = [];
    }
    static get ins() {
        if (!AStar._ins)
            AStar._ins = new AStar;
        return AStar._ins;
    }
    init(arr) {
        AStar.xNum = arr[0].length;
        AStar.yNum = arr.length;
        AStar.mapNodeList = arr;
    }
    /**曼哈顿估价法 */
    manhattan(fromNode, targetNode) {
        return Math.abs(fromNode.x - targetNode.x) * AStar.staticCost + Math.abs(fromNode.y - targetNode.y) * AStar.staticCost;
    }
    /**移动成本，影响走斜对角还是垂直 */
    getG(fromNode, targetNode) {
        return fromNode.x - targetNode.x == 0 || fromNode.y - targetNode.y == 0 ? 10 : 14;
    }
    /**获取周围8格 */
    getAroundNode(node) {
        let x = node.x % AStar.xNum;
        let y = node.y % AStar.yNum;
        let res = [];
        let map = AStar.mapNodeList;
        let temp;
        if (temp = map[y - 1]) {
            if (temp[x - 1]) {
                res.push(temp[x - 1]);
            }
            if (temp[x]) {
                res.push(temp[x]);
            }
            if (temp[x + 1]) {
                res.push(temp[x + 1]);
            }
        }
        if (map[y][x - 1]) {
            res.push(map[y][x - 1]);
        }
        if (map[y][x + 1]) {
            res.push(map[y][x + 1]);
        }
        if (temp = map[y + 1]) {
            if (temp[x - 1]) {
                res.push(temp[x - 1]);
            }
            if (temp[x]) {
                res.push(temp[x]);
            }
            if (temp[x + 1]) {
                res.push(temp[x + 1]);
            }
        }
        return res;
    }
    /**
     *
     * @param fromNode 起始点
     * @param toNode 目标点
     * @param moveType 移动类型，影响可穿越地形
     * @returns
     */
    findPath(fromNode, toNode, moveType) {
        if (fromNode == toNode || moveType < toNode.terrain)
            return [fromNode];
        fromNode.parent = null;
        this.openList.length = this.closeList.length = 0;
        this.openList.push(fromNode);
        fromNode.G = 0;
        let g;
        let index;
        while (fromNode = this.openList.pop()) {
            let around = this.getAroundNode(fromNode);
            this.closeList.push(fromNode);
            for (let node of around) {
                //找到目标
                if (node == toNode) {
                    node.parent = fromNode;
                    return this.parsePath(node);
                }
                if (this.closeList.indexOf(node) >= 0 || moveType < node.terrain)
                    continue;
                g = fromNode.G + this.getG(fromNode, node);
                index = this.openList.indexOf(node);
                if (index == -1) {
                    this.openList.push(node);
                    node.parent = fromNode;
                    node.H = this.manhattan(node, toNode);
                    node.G = g;
                    node.F = node.H + node.G;
                }
                else {
                    if (this.openList[index].G > g) {
                        node.G = g;
                        node.parent = fromNode;
                        node.F = this.openList[index].G + this.openList[index].H;
                    }
                }
            }
            this.openList.sort((a, b) => b.F - a.F);
        }
        return [toNode];
    }
    parsePath(node) {
        let res = [];
        do {
            res.push(node);
            node = node.parent;
        } while (node);
        return res;
    }
}
/**固定消耗 */
AStar.staticCost = 10;
exports.default = AStar;
/**按大小顺序，越大消耗越高 */
var terrain_type;
(function (terrain_type) {
    terrain_type[terrain_type["water"] = 0] = "water";
    terrain_type[terrain_type["normal"] = 1] = "normal";
    terrain_type[terrain_type["fly"] = 2] = "fly";
    terrain_type[terrain_type["unwalk"] = 3] = "unwalk";
})(terrain_type = exports.terrain_type || (exports.terrain_type = {}));
/**可以移动的方式 */
var move_type;
(function (move_type) {
    move_type[move_type["walk"] = 1] = "walk";
    move_type[move_type["fly"] = 2] = "fly";
})(move_type = exports.move_type || (exports.move_type = {}));
},{}],6:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
/**地图节点数据 */
class MapNode {
    release() {
        this.width = this.height = this.x = this.y =
            this.G = this.H = this.F = 0;
    }
    setTo(x, y, width, height) {
        this.x = x;
        this.y = y;
        this.width = width;
        this.height = height;
    }
}
exports.default = MapNode;
},{}],7:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const AStar_1 = require("../AStar");
const layaMaxUI_1 = require("../../../ui/layaMaxUI");
let startPoint = undefined, endPoint = undefined;
class AstarTest extends layaMaxUI_1.ui.test.AstarUI {
    constructor() {
        super();
        this.map = {};
        let arr = [];
        for (let i = 0; i < 30; i++) {
            let rol = [];
            arr.push(rol);
            for (let j = 0; j < 30; j++) {
                let node = new mapNode;
                let sp = new SpNode(node);
                this.map[`${j}_${i}`] = sp;
                sp.terrain = AStar_1.terrain_type.water;
                this.container.addChild(sp);
                sp.x = j * 15;
                sp.y = i * 15;
                node.x = j;
                node.y = i;
                node.width = 10;
                node.height = 10;
                rol.push(node);
            }
        }
        AStar_1.default.ins.init(arr);
        this.starBtn.on(Laya.Event.CLICK, this, () => {
            startPoint = null;
        });
        this.endBtn.on(Laya.Event.CLICK, this, () => {
            endPoint = null;
        });
        this.searchBtn.on(Laya.Event.CLICK, this, () => {
            let res = AStar_1.default.ins.findPath(startPoint, endPoint, AStar_1.move_type.walk);
            const fn = () => {
                if (!res.length) {
                    Laya.timer.clear(this, fn);
                    return;
                }
                let node = res.pop();
                this.map[`${node.x}_${node.y}`].graphics.clear();
            };
            Laya.timer.loop(300, this, fn);
        });
    }
    open(...args) { }
    close() { }
}
exports.default = AstarTest;
class mapNode {
}
class SpNode extends Laya.Box {
    constructor(node) {
        super();
        this.node = node;
        this.width = this.height = 10;
        this.on(Laya.Event.RIGHT_CLICK, this, () => {
            this.terrain = 3;
        });
        this.on(Laya.Event.CLICK, this, () => {
            if (startPoint === null) {
                startPoint = this.node;
                this.graphics.clear();
                return;
            }
            if (endPoint === null) {
                endPoint = this.node;
                this.graphics.clear();
                return;
            }
            if (this._terrain >= AStar_1.terrain_type.unwalk) {
                this._terrain = 0;
            }
            else {
                this._terrain++;
            }
            this.terrain = this._terrain;
        });
    }
    set terrain(type) {
        this._terrain = type;
        this.node.terrain = type;
        let color;
        switch (type) {
            case AStar_1.terrain_type.water:
                color = "#1628ef";
                break;
            case AStar_1.terrain_type.normal:
                color = "#7a80cd";
                break;
            case AStar_1.terrain_type.fly:
                color = "#c37acd";
                break;
            case AStar_1.terrain_type.unwalk:
                color = "#ee0e3b";
                break;
        }
        let s = this.graphics;
        s.clear();
        s.drawCircle(0, 0, 5, color);
    }
}
},{"../../../ui/layaMaxUI":17,"../AStar":5}],8:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
class MapGrid extends Laya.Image {
    release() {
        this.skin = null;
        this.removeSelf();
    }
}
exports.default = MapGrid;
},{}],9:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var Sprite = Laya.Sprite;
var Box = Laya.Box;
const PoolUtil_1 = require("../../../utils/pool/PoolUtil");
/**[路径，水平个数，竖直个数，格子大小] */
const mapCfg = {
    1: ["./asset/map/80001/", 8, 6, 256],
};
/**地图显示层 */
class MapScene extends Sprite {
    constructor() {
        super();
        this.init();
    }
    init() {
        this.addChild(this.mapLayer = new Box);
        this.mapLayer.top = this.mapLayer.left = this.mapLayer.right = this.mapLayer.bottom = 0;
        this.ChangeMap(1);
    }
    ChangeMap(id) {
        let cfg = mapCfg[id];
        this.releaseMap();
        let node;
        let index = 1;
        for (let i = 0; i < cfg[2]; i++) {
            for (let j = 0; j < cfg[1]; j++) {
                node = PoolUtil_1.default.MapGrid.create(cfg[0] + index + ".jpg");
                index++;
                node.y = cfg[3] * i;
                node.x = cfg[3] * j;
                this.mapLayer.addChild(node);
            }
        }
        this.width = Laya.stage.width;
        this.height = Laya.stage.height;
    }
    releaseMap() {
        let node;
        while (this.mapLayer.numChildren) {
            node = this.getChildAt(0);
            PoolUtil_1.default.MapGrid.release(node);
        }
    }
}
exports.default = MapScene;
},{"../../../utils/pool/PoolUtil":21}],10:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const ArrayUtils_1 = require("../utils/ArrayUtils");
const MapStruct_1 = require("../utils/MapStruct");
/**
 * 红点管理
 * 分离显示和数据，每个节点都有一个状态，可以把红点实例与任意节点绑定/解绑
 * 节点可以绑定handle或者通过关系其他节点实现更新，更新是自动的，同时如果有绑定实例，实例的状态也会自动更新
 *
 */
class RedTipBase extends Laya.EventDispatcher {
    constructor() {
        super(...arguments);
        // private tempName:string;
        /**关心列表 */
        this.careMap = new MapStruct_1.MapStruct;
        /**红点状态缓存 */
        this.stateMap = new MapStruct_1.MapStruct;
        /**绑定红点实例 */
        this.bindRedTip = new MapStruct_1.MapStruct;
        /**节点与handle映射 */
        this.registerMap = new MapStruct_1.MapStruct;
    }
    static get ins() {
        let s = this;
        return s["_ins_"] || (s["_ins_"] = new s);
    }
    _init() {
        this.init();
    }
    init() {
        throw new Error("在init方法中绑定触发点或者关系节点");
    }
    /**
     * 注册节点更新handle,没注册也不影响，可以只关心其他节点，节点的创建是任意的
     * @param name
     * @param call
     * @param caller
     */
    register(name, fn, caller) {
        this.registerMap.set(name, [fn, caller]);
        return this.bindHandle.bind(this, name);
    }
    /**
     * 绑定外部触发点，比如游戏模块数据层更新数据，绑定红点触发，在调用完register后面直接调用
     */
    bindHandle(name, eventName, dispatcher) {
        dispatcher.on(eventName, this, this.emit, [name]);
        return this.bindHandle.bind(this, name);
    }
    /**
     * 绑定关心节点
     * @param t
     * @returns
     */
    takecare(t) {
        this.temp = t;
        return this;
    }
    /**
     * 绑定本红点管理器的红点节点
     */
    bindName(...flags) {
        this.tempTarget = flags;
        return this;
    }
    /**
     * 关心节点的红点节点名
     */
    care(...flags) {
        //为关系节点添加改变触发handle
        for (let f of flags) {
            this.temp.on(f, this, this.childrenChange, [this.tempTarget]);
        }
        for (let k of this.tempTarget) {
            let ls = this.careMap.get(k);
            if (ls) {
                let target = ArrayUtils_1.ArrayUtils.find(ls, (v) => {
                    return v[0] == this.temp;
                });
                if (target) {
                    target[1] = ArrayUtils_1.ArrayUtils.unique(target[1].concat(flags));
                }
                else {
                    ls.push([this.temp, flags]);
                }
            }
            else {
                this.careMap.set(k, [[this.temp, flags]]);
            }
        }
    }
    /**
     * 触发红点计算
     * @param flag
     */
    emit(flag) {
        this.change(flag);
    }
    /**
     * 为红点绑定执行handle
     * @param name 红点名
     * @param redTip 红点实例
     */
    bindRed(name, redTip) {
        let ls = this.bindRedTip.get(name);
        if (!ls) {
            this.bindRedTip.set(name, [redTip]);
        }
        else {
            if (ls.indexOf(redTip) == -1) {
                ls.push(redTip);
            }
        }
        redTip.visible = this.getStatus(name);
    }
    /**
     * 解绑红点，只是解绑红点显示，数据层仍会计算
     * @param name
     * @param redTip
     */
    unBindRed(name, redTip) {
        let ls = this.bindRedTip.get(name);
        if (ls) {
            ls.splice(ls.indexOf(redTip), 1);
        }
    }
    /**
     * 获取红点节点状态
     */
    getStatus(flag) {
        let res = !!this.stateMap.get(flag);
        if (res)
            return true;
        let map = this.careMap.get(flag);
        if (map) {
            for (let t of map) {
                for (let k of t[1]) {
                    if (t[0].getStatus(k))
                        return true;
                }
            }
        }
        return false;
    }
    setRedTip(flag, state) {
        let ls = this.bindRedTip.get(flag);
        if (ls) {
            for (let i of ls) {
                i.visible = state;
            }
        }
    }
    /**子节点状态改变，不会触发新计算，拿缓存 */
    childrenChange(targerFlags, status) {
        let value = status;
        for (let k of targerFlags) {
            status = value || this.getStatus(k);
            //设置红点实例
            this.setRedTip(k, status);
            //通知父节点
            this.event(k, value);
        }
    }
    /**本节点状态改变 */
    change(flag) {
        let status = this.calculate(flag);
        this.stateMap.set(flag, status);
        status = status || this.getStatus(flag);
        //更新视图
        this.setRedTip(flag, status);
        //通知父节点
        this.event(flag, status);
    }
    /**重新计算 */
    calculate(flag) {
        if (this.registerMap.has(flag)) {
            let [fn, caller] = this.registerMap.get(flag);
            let res = fn.call(caller);
            // this.stateMap.set(flag, res);
            return res;
        }
        else {
            console.warn(`红点钩子${flag}未添加处理函数`);
            return false;
        }
    }
}
exports.default = RedTipBase;
},{"../utils/ArrayUtils":18,"../utils/MapStruct":19}],11:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const RedTipTest_1 = require("./RedTipTest");
class RedTipMgr {
    constructor() {
        this.redArray = [];
        this.init();
    }
    init() {
        this.register();
        for (let i of this.redArray) {
            i._init();
        }
    }
    register() {
        this.redArray = [
            RedTipTest_1.red1.ins,
            RedTipTest_1.red2.ins,
        ];
    }
}
exports.default = RedTipMgr;
},{"./RedTipTest":12}],12:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const layaMaxUI_1 = require("../ui/layaMaxUI");
const RedTipBase_1 = require("./RedTipBase");
class RedTipTest extends layaMaxUI_1.ui.test.ViewTestUI {
    constructor() {
        super();
        this.loop();
    }
    open() {
        let img = new Laya.Image;
        img.skin = "comp/image.png";
        this.addChild(img);
    }
    createView(view) {
        super.createView(view);
        red1.ins.bindRed("A1", this.A1);
        red1.ins.bindRed("A2", this.A2);
        red1.ins.bindRed("A3", this.A3);
        red2.ins.bindRed("B1", this.B1);
        red2.ins.bindRed("B2", this.B2);
    }
    loop() {
        Laya.timer.loop(500, this, () => {
            // red1.ins.emit("A2")
            // red1.ins.emit("A1")
            // red1.ins.emit("A3")
            // red2.ins.emit("B1")
            // red2.ins.emit("B2")
            TestMDl.ins.event("UPDATE_INFO");
            TestMDl.ins.event("UPDATE_LV");
        });
    }
}
exports.default = RedTipTest;
class red1 extends RedTipBase_1.default {
    constructor() {
        super();
    }
    init() {
        //绑定handle，触发点
        this.register("A2", this.A2, this)("UPDATE_INFO", TestMDl.ins)("UPDATE_LV", TestMDl.ins);
        this.register("A3", this.A3, this)("UPDATE_LV", TestMDl.ins);
        //构建关心列表
        this.takecare(red2.ins).bindName("A2").care("B1", "B2");
        this.takecare(red2.ins).bindName("A1").care("B1", "B2");
    }
    A1() {
        let a = 0;
        for (let i = 0; i < 10000; i++) {
            a++;
        }
        return Math.random() > 0.5;
    }
    A2() {
        let a = 0;
        for (let i = 0; i < 10000; i++) {
            a++;
        }
        return Math.random() > 0.5;
    }
    A3() {
        let a = 0;
        for (let i = 0; i < 10000; i++) {
            a++;
        }
        return Math.random() > 0.5;
    }
}
exports.red1 = red1;
class red2 extends RedTipBase_1.default {
    constructor() {
        super();
    }
    init() {
        this.register("B1", this.B1, this)("UPDATE_LV", TestMDl.ins);
        this.register("B2", this.B2, this)("UPDATE_INFO", TestMDl.ins);
    }
    B1() {
        let a = 0;
        for (let i = 0; i < 10000; i++) {
            a++;
        }
        return Math.random() > 0.5;
    }
    B2() {
        let a = 0;
        for (let i = 0; i < 10000; i++) {
            a++;
        }
        return Math.random() > 0.5;
    }
}
exports.red2 = red2;
class TestMDl extends Laya.EventDispatcher {
    static get ins() {
        return TestMDl["_ins"] || (TestMDl["_ins"] = new TestMDl);
    }
}
},{"../ui/layaMaxUI":17,"./RedTipBase":10}],13:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
/**
 * 子弹脚本，实现子弹飞行逻辑及对象池回收机制
 */
class Bullet extends Laya.Script {
    constructor() { super(); }
    onEnable() {
        //设置初始速度
        var rig = this.owner.getComponent(Laya.RigidBody);
        rig.setVelocity({ x: 0, y: -10 });
    }
    onTriggerEnter(other, self, contact) {
        //如果被碰到，则移除子弹
        this.owner.removeSelf();
    }
    onUpdate() {
        //如果子弹超出屏幕，则移除子弹
        if (this.owner.y < -10) {
            this.owner.removeSelf();
        }
    }
    onDisable() {
        //子弹被移除时，回收子弹到对象池，方便下次复用，减少对象创建开销
        Laya.Pool.recover("bullet", this.owner);
    }
}
exports.default = Bullet;
},{}],14:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const GameUI_1 = require("./GameUI");
/**
 * 掉落盒子脚本，实现盒子碰撞及回收流程
 */
class DropBox extends Laya.Script {
    constructor() {
        super();
        /**盒子等级 */
        this.level = 1;
    }
    onEnable() {
        /**获得组件引用，避免每次获取组件带来不必要的查询开销 */
        this._rig = this.owner.getComponent(Laya.RigidBody);
        this.level = Math.round(Math.random() * 5) + 1;
        this._text = this.owner.getChildByName("levelTxt");
        this._text.text = this.level + "";
    }
    onUpdate() {
        //让持续盒子旋转
        this.owner.rotation++;
    }
    onTriggerEnter(other, self, contact) {
        var owner = this.owner;
        if (other.label === "buttle") {
            //碰撞到子弹后，增加积分，播放声音特效
            if (this.level > 1) {
                this.level--;
                this._text.changeText(this.level + "");
                owner.getComponent(Laya.RigidBody).setVelocity({ x: 0, y: -10 });
                Laya.SoundManager.playSound("sound/hit.wav");
            }
            else {
                if (owner.parent) {
                    let effect = Laya.Pool.getItemByCreateFun("effect", this.createEffect, this);
                    effect.pos(owner.x, owner.y);
                    owner.parent.addChild(effect);
                    effect.play(0, true);
                    owner.removeSelf();
                    Laya.SoundManager.playSound("sound/destroy.wav");
                }
            }
            GameUI_1.default.instance.addScore(1);
        }
        else if (other.label === "ground") {
            //只要有一个盒子碰到地板，则停止游戏
            owner.removeSelf();
            GameUI_1.default.instance.stopGame();
        }
    }
    /**使用对象池创建爆炸动画 */
    createEffect() {
        let ani = new Laya.Animation();
        ani.loadAnimation("test/TestAni.ani");
        ani.on(Laya.Event.COMPLETE, null, recover);
        function recover() {
            ani.removeSelf();
            Laya.Pool.recover("effect", ani);
        }
        return ani;
    }
    onDisable() {
        //盒子被移除时，回收盒子到对象池，方便下次复用，减少对象创建开销。
        Laya.Pool.recover("dropBox", this.owner);
    }
}
exports.default = DropBox;
},{"./GameUI":16}],15:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
/**
 * 游戏控制脚本。定义了几个dropBox，bullet，createBoxInterval等变量，能够在IDE显示及设置该变量
 * 更多类型定义，请参考官方文档
 */
class GameControl extends Laya.Script {
    constructor() {
        super();
        /** @prop {name:createBoxInterval,tips:"间隔多少毫秒创建一个下跌的容器",type:int,default:1000}*/
        this.createBoxInterval = 1000;
        /**开始时间*/
        this._time = 0;
        /**是否已经开始游戏 */
        this._started = false;
    }
    onEnable() {
        this._time = Date.now();
        this._gameBox = this.owner.getChildByName("gameBox");
        this.createBox();
    }
    onUpdate() {
        //每间隔一段时间创建一个盒子
        let now = Date.now();
        if (now - this._time > this.createBoxInterval) {
            this._time = now;
            this.createBox();
        }
    }
    createBox() {
        //使用对象池创建盒子
        let box = Laya.Pool.getItemByCreateFun("dropBox", this.dropBox.create, this.dropBox);
        box.pos(Math.random() * (Laya.stage.width - 100), -100);
        this._gameBox.addChild(box);
    }
    onStageClick(e) {
        //停止事件冒泡，提高性能，当然也可以不要
        // e.stopPropagation();
        //舞台被点击后，使用对象池创建子弹
        let flyer = Laya.Pool.getItemByCreateFun("bullet", this.bullet.create, this.bullet);
        flyer.pos(Laya.stage.mouseX, Laya.stage.mouseY);
        this._gameBox.addChild(flyer);
        console.log("click");
    }
    /**开始游戏，通过激活本脚本方式开始游戏*/
    startGame() {
        if (!this._started) {
            this._started = true;
            this.enabled = true;
        }
    }
    /**结束游戏，通过非激活本脚本停止游戏 */
    stopGame() {
        this._started = false;
        this.enabled = false;
        this.createBoxInterval = 1000;
        this._gameBox.removeChildren();
    }
}
exports.default = GameControl;
},{}],16:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const layaMaxUI_1 = require("./../ui/layaMaxUI");
const GameControl_1 = require("./GameControl");
/**
 * 本示例采用非脚本的方式实现，而使用继承页面基类，实现页面逻辑。在IDE里面设置场景的Runtime属性即可和场景进行关联
 * 相比脚本方式，继承式页面类，可以直接使用页面定义的属性（通过IDE内var属性定义），比如this.tipLbll，this.scoreLbl，具有代码提示效果
 * 建议：如果是页面级的逻辑，需要频繁访问页面内多个元素，使用继承式写法，如果是独立小模块，功能单一，建议用脚本方式实现，比如子弹脚本。
 */
class GameUI extends layaMaxUI_1.ui.test.TestSceneUI {
    constructor() {
        super();
        GameUI.instance = this;
        //关闭多点触控，否则就无敌了
        Laya.MouseManager.multiTouchEnabled = false;
    }
    onEnable() {
        this._control = this.getComponent(GameControl_1.default);
        //点击提示文字，开始游戏
        this.tipLbll.on(Laya.Event.CLICK, this, this.onTipClick);
    }
    onTipClick(e) {
        this.tipLbll.visible = false;
        this._score = 0;
        this.scoreLbl.text = "";
        this._control.startGame();
    }
    /**增加分数 */
    addScore(value = 1) {
        this._score += value;
        this.scoreLbl.changeText("分数：" + this._score);
        //随着分数越高，难度增大
        if (this._control.createBoxInterval > 600 && this._score % 20 == 0)
            this._control.createBoxInterval -= 20;
    }
    /**停止游戏 */
    stopGame() {
        this.tipLbll.visible = true;
        this.tipLbll.text = "游戏结束了，点击屏幕重新开始";
        this._control.stopGame();
    }
}
exports.default = GameUI;
},{"./../ui/layaMaxUI":17,"./GameControl":15}],17:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var ui;
(function (ui) {
    var test;
    (function (test) {
        class AstarUI extends Laya.View {
            constructor() { super(); }
            createChildren() {
                super.createChildren();
                this.createView(AstarUI.uiView);
            }
        }
        AstarUI.uiView = { "type": "View", "props": { "width": 1136, "height": 640 }, "compId": 2, "child": [{ "type": "Box", "props": { "var": "container", "top": 0, "right": 0, "left": 0, "bottom": 0 }, "compId": 4 }, { "type": "Button", "props": { "y": 70, "x": 350, "var": "starBtn", "skin": "comp/button.png", "label": "start" }, "compId": 6 }, { "type": "Button", "props": { "y": 70, "x": 482, "var": "endBtn", "skin": "comp/button.png", "label": "endBtn" }, "compId": 7 }, { "type": "Button", "props": { "y": 70, "x": 603, "var": "searchBtn", "skin": "comp/button.png", "label": "search" }, "compId": 8 }], "loadList": ["comp/button.png"], "loadList3D": [] };
        test.AstarUI = AstarUI;
        class TestSceneUI extends Laya.Scene {
            constructor() { super(); }
            createChildren() {
                super.createChildren();
                this.loadScene("test/TestScene");
            }
        }
        test.TestSceneUI = TestSceneUI;
        class ViewTestUI extends Laya.View {
            constructor() { super(); }
            createChildren() {
                super.createChildren();
                this.createView(ViewTestUI.uiView);
            }
        }
        ViewTestUI.uiView = { "type": "View", "props": { "width": 1136, "height": 640 }, "compId": 2, "child": [{ "type": "Radio", "props": { "y": 126, "x": 170, "var": "A1", "skin": "comp/radio.png", "label": "A1" }, "compId": 8 }, { "type": "Radio", "props": { "y": 154, "x": 170, "var": "A2", "skin": "comp/radio.png", "label": "A2" }, "compId": 9 }, { "type": "Radio", "props": { "y": 190, "x": 170, "var": "A3", "skin": "comp/radio.png", "label": "A3" }, "compId": 10 }, { "type": "Radio", "props": { "y": 126, "x": 233, "var": "B1", "skin": "comp/radio.png", "label": "B1" }, "compId": 11 }, { "type": "Radio", "props": { "y": 154, "x": 233, "var": "B2", "skin": "comp/radio.png", "label": "B2" }, "compId": 13 }], "loadList": ["comp/radio.png"], "loadList3D": [] };
        test.ViewTestUI = ViewTestUI;
    })(test = ui.test || (ui.test = {}));
})(ui = exports.ui || (exports.ui = {}));
},{}],18:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
class ArrayUtils {
    static find(arr, cb) {
        for (let i of arr) {
            if (cb(i))
                return i;
        }
        return null;
    }
    /**除重 */
    static unique(arr) {
        let left = 0, right = 0;
        while (left < arr.length) {
            right = arr.lastIndexOf(arr[left], left);
            while (left != right) {
                arr.splice(right);
                right = arr.lastIndexOf(arr[left], left);
            }
            left++;
        }
        return arr;
    }
}
exports.ArrayUtils = ArrayUtils;
},{}],19:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
class MapStruct {
    constructor() {
        this.keys = [];
        this.values = [];
        this._size = 0;
    }
    clear() {
        this.keys.length = this.values.length = this._size = 0;
    }
    delete(key) {
        let idx = this.keys.indexOf(key);
        if (idx == -1) {
            return false;
        }
        this.keys.splice(idx, 1);
        this.values.splice(idx, 1);
        this._size--;
        return true;
    }
    forEach(callbackfn, thisArg) {
        for (let i = 0, len = this.keys.length; i < len; i++) {
            callbackfn(this.values[i], this.keys[i], this);
        }
    }
    get(key) {
        let idx = this.keys.indexOf(key);
        return this.values[idx];
    }
    has(key) {
        return this.keys.indexOf(key) >= 0;
    }
    set(key, value) {
        let idx = this.keys.indexOf(key);
        if (idx >= 0) {
            this.values[idx] = value;
        }
        else {
            this.keys.push(key);
            this.values.push(value);
            this._size++;
        }
        return this;
    }
    get size() {
        return this._size;
    }
}
exports.MapStruct = MapStruct;
},{}],20:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
class PoolBase {
    constructor() {
        this.pool = [];
    }
    static get ins() {
        let t = this;
        if (!t["_ins"])
            t["_ins"] = new t;
        return t["_ins"];
    }
    create(...args) { }
    release(node) { }
}
exports.PoolBase = PoolBase;
},{}],21:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const MapNodePool_1 = require("./item/MapNodePool");
const MapGridPool_1 = require("./item/MapGridPool");
class PoolUtil {
    static get MapNode() {
        return MapNodePool_1.default.ins;
    }
    static get MapGrid() {
        return MapGridPool_1.default.ins;
    }
}
exports.default = PoolUtil;
},{"./item/MapGridPool":22,"./item/MapNodePool":23}],22:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const MapGrid_1 = require("../../../battle/map/view/MapGrid");
const PoolBase_1 = require("../PoolBase");
class MapGridPool extends PoolBase_1.PoolBase {
    create(skin) {
        let node = this.pool.pop() || new MapGrid_1.default;
        node.skin = skin;
        return node;
    }
    release(node) {
        node.release();
        this.pool.push(node);
    }
}
exports.default = MapGridPool;
},{"../../../battle/map/view/MapGrid":8,"../PoolBase":20}],23:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const MapNode_1 = require("../../../battle/map/MapNode");
const PoolBase_1 = require("../PoolBase");
class MapNodePool extends PoolBase_1.PoolBase {
    create(x, y, width, height) {
        let node = this.pool.pop() || new MapNode_1.default;
        node.setTo(x, y, width, height);
        return node;
    }
    release(node) {
        node.release();
        this.pool.push(node);
    }
}
exports.default = MapNodePool;
},{"../../../battle/map/MapNode":6,"../PoolBase":20}],24:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
class MovieMgr {
    constructor() {
        this._map = {};
    }
    static get ins() {
        if (!MovieMgr._ins) {
            MovieMgr._ins = new MovieMgr;
        }
        return MovieMgr._ins;
    }
    getTexture(path) {
        return __awaiter(this, void 0, void 0, function* () {
            if (!this._map[path]) {
                yield new Promise((resolve, reject) => {
                    let imgPath = path.replace(".json", ".png");
                    Laya.loader.load([path, imgPath], Laya.Handler.create(this, () => {
                        let res = {};
                        let json = Laya.loader.getRes(path);
                        let cfg;
                        let texture = Laya.Loader.getRes(imgPath);
                        for (let k in json.res) {
                            cfg = json.res[k];
                            res[k] = Laya.Texture.create(texture, cfg.x, cfg.y, cfg.w, cfg.h);
                        }
                        this._map[path] = res;
                        resolve();
                    }), null, Laya.Loader.ATLAS);
                });
            }
            return Promise.resolve(this._map[path]);
        });
    }
}
exports.default = MovieMgr;
},{}],25:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const MovieMgr_1 = require("./Movie/MovieMgr");
class View1 extends Laya.View {
    constructor() {
        super();
        let lab = new Laya.Label;
        lab.text = "hello";
        lab.color = "#FF0000";
        this.addChild(lab);
        let img = new Laya.Image;
        img.skin = "comp/image.png"; //"test/c1.png"
        this.addChild(img);
        MovieMgr_1.default.ins.getTexture("asset/00110.json");
    }
}
exports.default = View1;
class View2 extends Laya.View {
    constructor() {
        super();
    }
}
exports.View2 = View2;
},{"./Movie/MovieMgr":24}],26:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const RedTipTest_1 = require("../../redTip/RedTipTest");
const View1_1 = require("../View1");
const AstarTest_1 = require("../../battle/map/test/AstarTest");
let id = 1;
const map = {};
const panelInstanceMap = {};
/**
 *
 * @param view 注册面板
 * @param dependtenceAtlas 依赖图集
 * @param dependtenceCfgs 依赖配置
 * @returns 面板id
 */
function registerPanel(view, layer, dependtenceAtlas, dependtenceCfgs) {
    let key = id++;
    map[key] = [view, dependtenceAtlas, dependtenceCfgs, layer];
    return key;
}
exports.registerPanel = registerPanel;
function cachePanel(id, panel) {
    panelInstanceMap[id] = panel;
}
exports.cachePanel = cachePanel;
function clearPanel(id) {
    delete panelInstanceMap[id];
}
exports.clearPanel = clearPanel;
/**面板实例 */
function getPanel(id) {
    return panelInstanceMap[id];
}
exports.getPanel = getPanel;
/**面板配置 */
function getPanelVo(id) {
    return map[id];
}
exports.getPanelVo = getPanelVo;
var panelLayer;
(function (panelLayer) {
    panelLayer[panelLayer["base"] = 0] = "base";
    panelLayer[panelLayer["middle"] = 1] = "middle";
    panelLayer[panelLayer["top"] = 2] = "top";
})(panelLayer = exports.panelLayer || (exports.panelLayer = {}));
var PanelRegister;
(function (PanelRegister) {
    PanelRegister[PanelRegister["PANEL1"] = registerPanel(RedTipTest_1.default, panelLayer.base, ["res/atlas/comp.atlas"])] = "PANEL1";
    PanelRegister[PanelRegister["PANEL2"] = registerPanel(View1_1.default, panelLayer.base, ["res/atlas/test.atlas"])] = "PANEL2";
    PanelRegister[PanelRegister["PANEL3"] = registerPanel(View1_1.View2, panelLayer.base)] = "PANEL3";
    PanelRegister[PanelRegister["PANEL4"] = registerPanel(AstarTest_1.default, panelLayer.base, ["res/atlas/comp.atlas"])] = "PANEL4";
})(PanelRegister = exports.PanelRegister || (exports.PanelRegister = {}));
},{"../../battle/map/test/AstarTest":7,"../../redTip/RedTipTest":12,"../View1":25}],27:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const ResourceMgr_1 = require("../../ResourceMgr");
const PanelRegister_1 = require("./PanelRegister");
class ViewMgr extends Laya.EventDispatcher {
    // private historyArr: IView[] = [];
    constructor() {
        super();
        this.currentPanelMap = {}; //各个层级打开的面板
        this.cachePanel = []; //缓存面板
        this.maxCacheNum = 0; //缓存页面数量
        Laya.stage.addChild(this.panelLayer = new Laya.Box);
    }
    static get ins() {
        return ViewMgr._ins || (ViewMgr._ins = new ViewMgr);
    }
    /**
     * 打开面板
     * @param id 注册面板
     * @param args 面板open方法调用参数
     */
    openPanel(id, ...args) {
        let vo = PanelRegister_1.getPanelVo(id);
        if (this.currentPanelMap[vo[3]] === id)
            return;
        this.closePanel(this.currentPanelMap[vo[3]]);
        this.currentPanelMap[vo[3]] = id;
        let dependenceArr = [];
        if (vo[1]) {
            for (let url of vo[1]) {
                ResourceMgr_1.default.ins.addAtlasRefrence(url); //添加图集引用计数
            }
            dependenceArr = dependenceArr.concat(vo[1]);
        }
        vo[2] && (dependenceArr = dependenceArr.concat(vo[2]));
        if (dependenceArr.length)
            Laya.loader.load(dependenceArr, Laya.Handler.create(this, this.loadComplete, [id, ...args]));
        else
            this.loadComplete(id, ...args);
    }
    /**
     * 关闭面板
     * @param id 注册面板id
     */
    closePanel(id) {
        if (!id)
            return;
        let vo = PanelRegister_1.getPanelVo(id);
        if (!vo) {
            console.error(`未注册面板:${id}`);
            return;
        }
        // this.clearPanelDependence(id);
        //加入缓存队列
        let idx = this.cachePanel.indexOf(id);
        if (idx >= 0) {
            this.cachePanel.splice(idx, 1);
        }
        this.cachePanel.push(id);
        this.currentPanelMap[vo[3]] = null;
        let panel = PanelRegister_1.getPanel(id);
        if (panel) {
            panel.removeSelf();
            panel.close();
        }
    }
    /**
     * 尝试销毁面板
     * @param count 销毁数量
     */
    tryDestoryPanel(count = 1) {
        if (this.cachePanel.length <= this.maxCacheNum)
            return;
        let panels = this.cachePanel.splice(0, this.cachePanel.length - this.maxCacheNum <= count ? this.cachePanel.length - this.maxCacheNum : count);
        while (panels.length) {
            let id = panels.pop();
            this.clearPanelDependence(id);
            if (PanelRegister_1.getPanel(id))
                PanelRegister_1.getPanel(id).destroy(true);
            PanelRegister_1.clearPanel(id);
        }
    }
    clearPanelDependence(id) {
        let vo = PanelRegister_1.getPanelVo(id);
        if (vo[1]) {
            for (let k of vo[1]) {
                ResourceMgr_1.default.ins.removeAtlasRefrence(k, true);
            }
        }
    }
    loadComplete(id, ...args) {
        let panel = PanelRegister_1.getPanel(id);
        if (!panel) {
            panel = new (PanelRegister_1.getPanelVo(id)[0]);
            PanelRegister_1.cachePanel(id, panel);
        }
        panel.open(...args);
        let vo = PanelRegister_1.getPanelVo(id);
        if (this.currentPanelMap[vo[3]] === id) {
            this.panelLayer.addChild(panel);
        }
    }
}
exports.default = ViewMgr;
},{"../../ResourceMgr":4,"./PanelRegister":26}]},{},[3])
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NvZnRXYXJlL2xheWFJREUvcmVzb3VyY2VzL2FwcC9ub2RlX21vZHVsZXMvYnJvd3Nlci1wYWNrL19wcmVsdWRlLmpzIiwic3JjL0FwcC50cyIsInNyYy9HYW1lQ29uZmlnLnRzIiwic3JjL01haW4udHMiLCJzcmMvUmVzb3VyY2VNZ3IudHMiLCJzcmMvYmF0dGxlL21hcC9BU3Rhci50cyIsInNyYy9iYXR0bGUvbWFwL01hcE5vZGUudHMiLCJzcmMvYmF0dGxlL21hcC90ZXN0L0FzdGFyVGVzdC50cyIsInNyYy9iYXR0bGUvbWFwL3ZpZXcvTWFwR3JpZC50cyIsInNyYy9iYXR0bGUvbWFwL3ZpZXcvTWFwU2NlbmUudHMiLCJzcmMvcmVkVGlwL1JlZFRpcEJhc2UudHMiLCJzcmMvcmVkVGlwL1JlZFRpcE1nci50cyIsInNyYy9yZWRUaXAvUmVkVGlwVGVzdC50cyIsInNyYy9zY3JpcHQvQnVsbGV0LnRzIiwic3JjL3NjcmlwdC9Ecm9wQm94LnRzIiwic3JjL3NjcmlwdC9HYW1lQ29udHJvbC50cyIsInNyYy9zY3JpcHQvR2FtZVVJLnRzIiwic3JjL3VpL2xheWFNYXhVSS50cyIsInNyYy91dGlscy9BcnJheVV0aWxzLnRzIiwic3JjL3V0aWxzL01hcFN0cnVjdC50cyIsInNyYy91dGlscy9wb29sL1Bvb2xCYXNlLnRzIiwic3JjL3V0aWxzL3Bvb2wvUG9vbFV0aWwudHMiLCJzcmMvdXRpbHMvcG9vbC9pdGVtL01hcEdyaWRQb29sLnRzIiwic3JjL3V0aWxzL3Bvb2wvaXRlbS9NYXBOb2RlUG9vbC50cyIsInNyYy92aWV3L01vdmllL01vdmllTWdyLnRzIiwic3JjL3ZpZXcvVmlldzEudHMiLCJzcmMvdmlldy9iYXNlL1BhbmVsUmVnaXN0ZXIudHMiLCJzcmMvdmlldy9iYXNlL1ZpZXdNZ3IudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7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QUN2QyxDQUFDOztRQUxjLGlCQUFNLEdBQU0sRUFBQyxNQUFNLEVBQUMsTUFBTSxFQUFDLE9BQU8sRUFBQyxFQUFDLE9BQU8sRUFBQyxJQUFJLEVBQUMsUUFBUSxFQUFDLEdBQUcsRUFBQyxFQUFDLFFBQVEsRUFBQyxDQUFDLEVBQUMsT0FBTyxFQUFDLENBQUMsRUFBQyxNQUFNLEVBQUMsT0FBTyxFQUFDLE9BQU8sRUFBQyxFQUFDLEdBQUcsRUFBQyxHQUFHLEVBQUMsR0FBRyxFQUFDLEdBQUcsRUFBQyxLQUFLLEVBQUMsSUFBSSxFQUFDLE1BQU0sRUFBQyxnQkFBZ0IsRUFBQyxPQUFPLEVBQUMsSUFBSSxFQUFDLEVBQUMsUUFBUSxFQUFDLENBQUMsRUFBQyxFQUFDLEVBQUMsTUFBTSxFQUFDLE9BQU8sRUFBQyxPQUFPLEVBQUMsRUFBQyxHQUFHLEVBQUMsR0FBRyxFQUFDLEdBQUcsRUFBQyxHQUFHLEVBQUMsS0FBSyxFQUFDLElBQUksRUFBQyxNQUFNLEVBQUMsZ0JBQWdCLEVBQUMsT0FBTyxFQUFDLElBQUksRUFBQyxFQUFDLFFBQVEsRUFBQyxDQUFDLEVBQUMsRUFBQyxFQUFDLE1BQU0sRUFBQyxPQUFPLEVBQUMsT0FBTyxFQUFDLEVBQUMsR0FBRyxFQUFDLEdBQUcsRUFBQyxHQUFHLEVBQUMsR0FBRyxFQUFDLEtBQUssRUFBQyxJQUFJLEVBQUMsTUFBTSxFQUFDLGdCQUFnQixFQUFDLE9BQU8sRUFBQyxJQUFJLEVBQUMsRUFBQyxRQUFRLEVBQUMsRUFBRSxFQUFDLEVBQUMsRUFBQyxNQUFNLEVBQUMsT0FBTyxFQUFDLE9BQU8sRUFBQyxFQUFDLEdBQUcsRUFBQyxHQUFHLEVBQUMsR0FBRyxFQUFDLEdBQUcsRUFBQyxLQUFLLEVBQUMsSUFBSSxFQUFDLE1BQU0sRUFBQyxnQkFBZ0IsRUFBQyxPQUFPLEVBQUMsSUFBSSxFQUFDLEVBQUMsUUFBUSxFQUFDLEVBQUUsRUFBQyxFQUFDLEVBQUMsTUFBTSxFQUFDLE9BQU8sRUFBQyxPQUFPLEVBQUMsRUFBQyxHQUFHLEVBQUMsR0FBRyxFQUFDLEdBQUcsRUFBQyxHQUFHLEVBQUMsS0FBSyxFQUFDLElBQUksRUFBQyxNQUFNLEVBQUMsZ0JBQWdCLEVBQUMsT0FBTyxFQUFDLElBQUksRUFBQyxFQUFDLFFBQVEsRUFBQyxFQUFFLEVBQUMsQ0FBQyxFQUFDLFVBQVUsRUFBQyxDQUFDLGdCQUFnQixDQUFDLEVBQUMsWUFBWSxFQUFDLEVBQUUsRUFBQyxDQUFDO1FBTjFvQixlQUFVLGFBWXRCLENBQUE7SUFDTCxDQUFDLEVBbkNnQixJQUFJLEdBQUosT0FBSSxLQUFKLE9BQUksUUFtQ3BCO0FBQUQsQ0FBQyxFQW5DYSxFQUFFLEdBQUYsVUFBRSxLQUFGLFVBQUUsUUFtQ2Y7Ozs7QUN2Q0Q7SUFDSSxNQUFNLENBQUMsSUFBSSxDQUFJLEdBQU8sRUFBQyxFQUFtQjtRQUN0QyxLQUFJLElBQUksQ0FBQyxJQUFJLEdBQUcsRUFBQztZQUNiLElBQUcsRUFBRSxDQUFDLENBQUMsQ0FBQztnQkFBRSxPQUFPLENBQUMsQ0FBQztTQUN0QjtRQUNELE9BQU8sSUFBSSxDQUFDO0lBQ2hCLENBQUM7SUFFRCxRQUFRO0lBQ1IsTUFBTSxDQUFDLE1BQU0sQ0FBQyxHQUFTO1FBQ25CLElBQUksSUFBSSxHQUFVLENBQUMsRUFBQyxLQUFLLEdBQVUsQ0FBQyxDQUFDO1FBQ3JDLE9BQU0sSUFBSSxHQUFHLEdBQUcsQ0FBQyxNQUFNLEVBQUM7WUFDcEIsS0FBSyxHQUFHLEdBQUcsQ0FBQyxXQUFXLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxFQUFDLElBQUksQ0FBQyxDQUFBO1lBQ3ZDLE9BQU0sSUFBSSxJQUFJLEtBQUssRUFBQztnQkFDaEIsR0FBRyxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUMsQ0FBQztnQkFDbEIsS0FBSyxHQUFHLEdBQUcsQ0FBQyxXQUFXLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxFQUFDLElBQUksQ0FBQyxDQUFDO2FBQzNDO1lBQ0QsSUFBSSxFQUFFLENBQUM7U0FDVjtRQUNELE9BQU8sR0FBRyxDQUFDO0lBQ2YsQ0FBQztDQUVKO0FBdEJELGdDQXNCQzs7OztBQ3BCRDtJQUlJO1FBSFEsU0FBSSxHQUFRLEVBQUUsQ0FBQTtRQUNkLFdBQU0sR0FBUSxFQUFFLENBQUE7UUFDaEIsVUFBSyxHQUFHLENBQUMsQ0FBQztJQUVsQixDQUFDO0lBRUQsS0FBSztRQUNELElBQUksQ0FBQyxJQUFJLENBQUMsTUFBTSxHQUFHLElBQUksQ0FBQyxNQUFNLENBQUMsTUFBTSxHQUFHLElBQUksQ0FBQyxLQUFLLEdBQUcsQ0FBQyxDQUFDO0lBQzNELENBQUM7SUFFRCxNQUFNLENBQUMsR0FBTTtRQUNULElBQUksR0FBRyxHQUFHLElBQUksQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxDQUFDO1FBQ2pDLElBQUksR0FBRyxJQUFJLENBQUMsQ0FBQyxFQUFFO1lBQ1gsT0FBTyxLQUFLLENBQUM7U0FDaEI7UUFDRCxJQUFJLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxHQUFHLEVBQUUsQ0FBQyxDQUFDLENBQUM7UUFDekIsSUFBSSxDQUFDLE1BQU0sQ0FBQyxNQUFNLENBQUMsR0FBRyxFQUFFLENBQUMsQ0FBQyxDQUFDO1FBQzNCLElBQUksQ0FBQyxLQUFLLEVBQUUsQ0FBQztRQUNiLE9BQU8sSUFBSSxDQUFDO0lBQ2hCLENBQUM7SUFDRCxPQUFPLENBQUMsVUFBaUQsRUFBRSxPQUFhO1FBQ3BFLEtBQUssSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLEdBQUcsR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDLE1BQU0sRUFBRSxDQUFDLEdBQUcsR0FBRyxFQUFFLENBQUMsRUFBRSxFQUFFO1lBQ2xELFVBQVUsQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxFQUFFLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLEVBQUUsSUFBSSxDQUFDLENBQUE7U0FDakQ7SUFDTCxDQUFDO0lBQ0QsR0FBRyxDQUFDLEdBQU07UUFDTixJQUFJLEdBQUcsR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxHQUFHLENBQUMsQ0FBQztRQUNqQyxPQUFPLElBQUksQ0FBQyxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUM7SUFDNUIsQ0FBQztJQUNELEdBQUcsQ0FBQyxHQUFNO1FBQ04sT0FBTyxJQUFJLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLENBQUM7SUFDdkMsQ0FBQztJQUNELEdBQUcsQ0FBQyxHQUFNLEVBQUUsS0FBUTtRQUNoQixJQUFJLEdBQUcsR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxHQUFHLENBQUMsQ0FBQztRQUNqQyxJQUFJLEdBQUcsSUFBSSxDQUFDLEVBQUU7WUFDVixJQUFJLENBQUMsTUFBTSxDQUFDLEdBQUcsQ0FBQyxHQUFHLEtBQUssQ0FBQztTQUM1QjthQUFNO1lBQ0gsSUFBSSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUE7WUFDbkIsSUFBSSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUM7WUFDeEIsSUFBSSxDQUFDLEtBQUssRUFBRSxDQUFDO1NBQ2hCO1FBQ0QsT0FBTyxJQUFJLENBQUM7SUFDaEIsQ0FBQztJQUNELElBQUksSUFBSTtRQUNKLE9BQU8sSUFBSSxDQUFDLEtBQUssQ0FBQztJQUN0QixDQUFDO0NBQ0o7QUEvQ0QsOEJBK0NDOzs7O0FDaEREO0lBQUE7UUFFYyxTQUFJLEdBQVEsRUFBRSxDQUFBO0lBUzVCLENBQUM7SUFSRyxNQUFNLEtBQUssR0FBRztRQUNWLElBQUksQ0FBQyxHQUFRLElBQUksQ0FBQztRQUNsQixJQUFJLENBQUMsQ0FBQyxDQUFDLE1BQU0sQ0FBQztZQUFFLENBQUMsQ0FBQyxNQUFNLENBQUMsR0FBRyxJQUFJLENBQUMsQ0FBQztRQUNsQyxPQUFPLENBQUMsQ0FBQyxNQUFNLENBQUMsQ0FBQztJQUNyQixDQUFDO0lBRUQsTUFBTSxDQUFDLEdBQUcsSUFBSSxJQUFTLENBQUM7SUFDeEIsT0FBTyxDQUFDLElBQU8sSUFBVSxDQUFDO0NBQzdCO0FBWEQsNEJBV0M7Ozs7QUNaRCxvREFBNkM7QUFDN0Msb0RBQTZDO0FBRTdDO0lBQ0ksTUFBTSxLQUFLLE9BQU87UUFDZCxPQUFPLHFCQUFXLENBQUMsR0FBRyxDQUFDO0lBQzNCLENBQUM7SUFFRCxNQUFNLEtBQUssT0FBTztRQUNkLE9BQU8scUJBQVcsQ0FBQyxHQUFHLENBQUM7SUFDM0IsQ0FBQztDQUNKO0FBUkQsMkJBUUM7Ozs7QUNWRCw4REFBdUQ7QUFDdkQsMENBQXVDO0FBRXZDLGlCQUFpQyxTQUFRLG1CQUFpQjtJQUN0RCxNQUFNLENBQUMsSUFBWTtRQUNmLElBQUksSUFBSSxHQUFHLElBQUksQ0FBQyxJQUFJLENBQUMsR0FBRyxFQUFFLElBQUksSUFBSSxpQkFBTyxDQUFDO1FBQzFDLElBQUksQ0FBQyxJQUFJLEdBQUcsSUFBSSxDQUFDO1FBQ2pCLE9BQU8sSUFBSSxDQUFDO0lBQ2hCLENBQUM7SUFFRCxPQUFPLENBQUMsSUFBYTtRQUNqQixJQUFJLENBQUMsT0FBTyxFQUFFLENBQUM7UUFDZixJQUFJLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQztJQUN6QixDQUFDO0NBQ0o7QUFYRCw4QkFXQzs7OztBQ2RELHlEQUFrRDtBQUNsRCwwQ0FBdUM7QUFHdkMsaUJBQWlDLFNBQVEsbUJBQWlCO0lBQ3RELE1BQU0sQ0FBQyxDQUFTLEVBQUUsQ0FBUyxFQUFFLEtBQWEsRUFBRSxNQUFjO1FBQ3RELElBQUksSUFBSSxHQUFZLElBQUksQ0FBQyxJQUFJLENBQUMsR0FBRyxFQUFFLElBQUksSUFBSSxpQkFBTyxDQUFDO1FBQ25ELElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxLQUFLLEVBQUUsTUFBTSxDQUFDLENBQUM7UUFDaEMsT0FBTyxJQUFJLENBQUM7SUFDaEIsQ0FBQztJQUVELE9BQU8sQ0FBQyxJQUFZO1FBQ2hCLElBQUksQ0FBQyxPQUFPLEVBQUUsQ0FBQztRQUNmLElBQUksQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO0lBQ3pCLENBQUM7Q0FDSjtBQVhELDhCQVdDOzs7O0FDaEJEO0lBQUE7UUFDWSxTQUFJLEdBQW1ELEVBQUUsQ0FBQztJQThCdEUsQ0FBQztJQTNCRyxNQUFNLEtBQUssR0FBRztRQUNWLElBQUcsQ0FBQyxRQUFRLENBQUMsSUFBSSxFQUFDO1lBQ2QsUUFBUSxDQUFDLElBQUksR0FBRyxJQUFJLFFBQVEsQ0FBQztTQUNoQztRQUNELE9BQU8sUUFBUSxDQUFDLElBQUksQ0FBQztJQUN6QixDQUFDO0lBQ0ssVUFBVSxDQUFDLElBQVk7O1lBQ3pCLElBQUksQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxFQUFFO2dCQUNsQixNQUFNLElBQUksT0FBTyxDQUFDLENBQUMsT0FBTyxFQUFFLE1BQU0sRUFBRSxFQUFFO29CQUNsQyxJQUFJLE9BQU8sR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDLE9BQU8sRUFBQyxNQUFNLENBQUMsQ0FBQTtvQkFDMUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsQ0FBQyxJQUFJLEVBQUMsT0FBTyxDQUFDLEVBQUUsSUFBSSxDQUFDLE9BQU8sQ0FBQyxNQUFNLENBQUMsSUFBSSxFQUFFLEdBQUcsRUFBRTt3QkFDNUQsSUFBSSxHQUFHLEdBQW9DLEVBQUUsQ0FBQzt3QkFDOUMsSUFBSSxJQUFJLEdBQVEsSUFBSSxDQUFDLE1BQU0sQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLENBQUM7d0JBQ3pDLElBQUksR0FBTyxDQUFDO3dCQUNaLElBQUksT0FBTyxHQUFnQixJQUFJLENBQUMsTUFBTSxDQUFDLE1BQU0sQ0FBQyxPQUFPLENBQUMsQ0FBQzt3QkFDdkQsS0FBSyxJQUFJLENBQUMsSUFBSSxJQUFJLENBQUMsR0FBRyxFQUFFOzRCQUNwQixHQUFHLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQzs0QkFDbEIsR0FBRyxDQUFDLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsTUFBTSxDQUFDLE9BQU8sRUFBRSxHQUFHLENBQUMsQ0FBQyxFQUFFLEdBQUcsQ0FBQyxDQUFDLEVBQUUsR0FBRyxDQUFDLENBQUMsRUFBRSxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUM7eUJBQ3JFO3dCQUNELElBQUksQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLEdBQUcsR0FBRyxDQUFDO3dCQUN0QixPQUFPLEVBQUUsQ0FBQztvQkFDZCxDQUFDLENBQUMsRUFBQyxJQUFJLEVBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUMsQ0FBQztnQkFDL0IsQ0FBQyxDQUFDLENBQUM7YUFDTjtZQUNELE9BQVEsT0FBTyxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUM7UUFFN0MsQ0FBQztLQUFBO0NBQ0o7QUEvQkQsMkJBK0JDOzs7O0FDL0JELCtDQUF3QztBQUV4QyxXQUEyQixTQUFRLElBQUksQ0FBQyxJQUFJO0lBQ3hDO1FBQ0ksS0FBSyxFQUFFLENBQUE7UUFDUCxJQUFJLEdBQUcsR0FBRyxJQUFJLElBQUksQ0FBQyxLQUFLLENBQUE7UUFDeEIsR0FBRyxDQUFDLElBQUksR0FBRyxPQUFPLENBQUE7UUFDbEIsR0FBRyxDQUFDLEtBQUssR0FBRyxTQUFTLENBQUE7UUFDckIsSUFBSSxDQUFDLFFBQVEsQ0FBQyxHQUFHLENBQUMsQ0FBQztRQUNuQixJQUFJLEdBQUcsR0FBRyxJQUFJLElBQUksQ0FBQyxLQUFLLENBQUE7UUFDeEIsR0FBRyxDQUFDLElBQUksR0FBRyxnQkFBZ0IsQ0FBQSxDQUFBLGVBQWU7UUFDMUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxHQUFHLENBQUMsQ0FBQTtRQUNsQixrQkFBUSxDQUFDLEdBQUcsQ0FBQyxVQUFVLENBQUMsa0JBQWtCLENBQUMsQ0FBQztJQUNoRCxDQUFDO0NBQ0o7QUFaRCx3QkFZQztBQUVELFdBQW1CLFNBQVEsSUFBSSxDQUFDLElBQUk7SUFDaEM7UUFDSSxLQUFLLEVBQUUsQ0FBQTtJQUNYLENBQUM7Q0FDSjtBQUpELHNCQUlDOzs7O0FDcEJELHdEQUFpRDtBQUVqRCxvQ0FBd0M7QUFDeEMsK0RBQXdEO0FBQ3hELElBQUksRUFBRSxHQUFXLENBQUMsQ0FBQztBQUNuQixNQUFNLEdBQUcsR0FBeUUsRUFBRSxDQUFDO0FBQ3JGLE1BQU0sZ0JBQWdCLEdBQTRCLEVBQUUsQ0FBQztBQUNyRDs7Ozs7O0dBTUc7QUFDSCx1QkFBOEIsSUFBcUIsRUFBRSxLQUFpQixFQUFFLGdCQUEyQixFQUFFLGVBQTBCO0lBQzNILElBQUksR0FBRyxHQUFHLEVBQUUsRUFBRSxDQUFDO0lBQ2YsR0FBRyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsSUFBSSxFQUFFLGdCQUFnQixFQUFFLGVBQWUsRUFBRSxLQUFLLENBQUMsQ0FBQztJQUM1RCxPQUFPLEdBQUcsQ0FBQztBQUNmLENBQUM7QUFKRCxzQ0FJQztBQUVELG9CQUEyQixFQUFVLEVBQUUsS0FBWTtJQUMvQyxnQkFBZ0IsQ0FBQyxFQUFFLENBQUMsR0FBRyxLQUFLLENBQUM7QUFDakMsQ0FBQztBQUZELGdDQUVDO0FBRUQsb0JBQTJCLEVBQVM7SUFDaEMsT0FBTyxnQkFBZ0IsQ0FBQyxFQUFFLENBQUMsQ0FBQztBQUNoQyxDQUFDO0FBRkQsZ0NBRUM7QUFFRCxVQUFVO0FBQ1Ysa0JBQXlCLEVBQVU7SUFDL0IsT0FBTyxnQkFBZ0IsQ0FBQyxFQUFFLENBQUMsQ0FBQTtBQUMvQixDQUFDO0FBRkQsNEJBRUM7QUFFRCxVQUFVO0FBQ1Ysb0JBQTJCLEVBQVU7SUFDakMsT0FBTyxHQUFHLENBQUMsRUFBRSxDQUFDLENBQUM7QUFDbkIsQ0FBQztBQUZELGdDQUVDO0FBSUQsSUFBWSxVQUVYO0FBRkQsV0FBWSxVQUFVO0lBQ2xCLDJDQUFJLENBQUE7SUFBRSwrQ0FBTSxDQUFBO0lBQUUseUNBQUcsQ0FBQTtBQUNyQixDQUFDLEVBRlcsVUFBVSxHQUFWLGtCQUFVLEtBQVYsa0JBQVUsUUFFckI7QUFFRCxJQUFZLGFBS1g7QUFMRCxXQUFZLGFBQWE7SUFDckIsd0NBQVMsYUFBYSxDQUFDLG9CQUFVLEVBQUUsVUFBVSxDQUFDLElBQUksRUFBRSxDQUFDLHNCQUFzQixDQUFDLENBQUMsWUFBQSxDQUFBO0lBQzdFLHdDQUFTLGFBQWEsQ0FBQyxlQUFLLEVBQUMsVUFBVSxDQUFDLElBQUksRUFBQyxDQUFDLHNCQUFzQixDQUFDLENBQUMsWUFBQSxDQUFBO0lBQ3RFLHdDQUFTLGFBQWEsQ0FBQyxhQUFLLEVBQUMsVUFBVSxDQUFDLElBQUksQ0FBQyxZQUFBLENBQUE7SUFDN0Msd0NBQVMsYUFBYSxDQUFDLG1CQUFTLEVBQUMsVUFBVSxDQUFDLElBQUksRUFBQyxDQUFDLHNCQUFzQixDQUFDLENBQUMsWUFBQSxDQUFBO0FBQzlFLENBQUMsRUFMVyxhQUFhLEdBQWIscUJBQWEsS0FBYixxQkFBYSxRQUt4Qjs7OztBQ2pERCxtREFBNEM7QUFFNUMsbURBQTBHO0FBRTFHLGFBQTZCLFNBQVEsSUFBSSxDQUFDLGVBQWU7SUFNckQsb0NBQW9DO0lBQ3BDO1FBQ0ksS0FBSyxFQUFFLENBQUM7UUFMSixvQkFBZSxHQUFnQyxFQUFFLENBQUMsQ0FBQSxXQUFXO1FBQzdELGVBQVUsR0FBb0IsRUFBRSxDQUFDLENBQUEsTUFBTTtRQUN0QyxnQkFBVyxHQUFXLENBQUMsQ0FBQyxDQUFBLFFBQVE7UUFJckMsSUFBSSxDQUFDLEtBQUssQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLFVBQVUsR0FBRyxJQUFJLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQTtJQUN2RCxDQUFDO0lBQ0QsTUFBTSxLQUFLLEdBQUc7UUFDVixPQUFPLE9BQU8sQ0FBQyxJQUFJLElBQUksQ0FBQyxPQUFPLENBQUMsSUFBSSxHQUFHLElBQUksT0FBTyxDQUFDLENBQUE7SUFDdkQsQ0FBQztJQUVEOzs7O09BSUc7SUFDSCxTQUFTLENBQUMsRUFBaUIsRUFBRSxHQUFHLElBQVc7UUFDdkMsSUFBSSxFQUFFLEdBQUcsMEJBQVUsQ0FBQyxFQUFFLENBQUMsQ0FBQztRQUN4QixJQUFJLElBQUksQ0FBQyxlQUFlLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLEtBQUssRUFBRTtZQUFFLE9BQU87UUFDL0MsSUFBSSxDQUFDLFVBQVUsQ0FBQyxJQUFJLENBQUMsZUFBZSxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDN0MsSUFBSSxDQUFDLGVBQWUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxFQUFFLENBQUM7UUFDakMsSUFBSSxhQUFhLEdBQWEsRUFBRSxDQUFDO1FBQ2pDLElBQUksRUFBRSxDQUFDLENBQUMsQ0FBQyxFQUFFO1lBQ1AsS0FBSyxJQUFJLEdBQUcsSUFBSSxFQUFFLENBQUMsQ0FBQyxDQUFDLEVBQUU7Z0JBQ25CLHFCQUFXLENBQUMsR0FBRyxDQUFDLGdCQUFnQixDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUEsVUFBVTthQUNuRDtZQUNELGFBQWEsR0FBRyxhQUFhLENBQUMsTUFBTSxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1NBQy9DO1FBQ0QsRUFBRSxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsYUFBYSxHQUFHLGFBQWEsQ0FBQyxNQUFNLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUN2RCxJQUFJLGFBQWEsQ0FBQyxNQUFNO1lBQ3BCLElBQUksQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLGFBQWEsRUFBRSxJQUFJLENBQUMsT0FBTyxDQUFDLE1BQU0sQ0FBQyxJQUFJLEVBQUUsSUFBSSxDQUFDLFlBQVksRUFBRSxDQUFDLEVBQUUsRUFBRSxHQUFHLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQzs7WUFFN0YsSUFBSSxDQUFDLFlBQVksQ0FBQyxFQUFFLEVBQUUsR0FBRyxJQUFJLENBQUMsQ0FBQztJQUN2QyxDQUFDO0lBRUQ7OztPQUdHO0lBQ0gsVUFBVSxDQUFDLEVBQWlCO1FBQ3hCLElBQUksQ0FBQyxFQUFFO1lBQUUsT0FBTztRQUNoQixJQUFJLEVBQUUsR0FBRywwQkFBVSxDQUFDLEVBQUUsQ0FBQyxDQUFDO1FBQ3hCLElBQUksQ0FBQyxFQUFFLEVBQUU7WUFDTCxPQUFPLENBQUMsS0FBSyxDQUFDLFNBQVMsRUFBRSxFQUFFLENBQUMsQ0FBQTtZQUM1QixPQUFPO1NBQ1Y7UUFDRCxpQ0FBaUM7UUFDakMsUUFBUTtRQUNSLElBQUksR0FBRyxHQUFHLElBQUksQ0FBQyxVQUFVLENBQUMsT0FBTyxDQUFDLEVBQUUsQ0FBQyxDQUFDO1FBQ3RDLElBQUksR0FBRyxJQUFJLENBQUMsRUFBRTtZQUNWLElBQUksQ0FBQyxVQUFVLENBQUMsTUFBTSxDQUFDLEdBQUcsRUFBRSxDQUFDLENBQUMsQ0FBQztTQUNsQztRQUNELElBQUksQ0FBQyxVQUFVLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxDQUFDO1FBQ3pCLElBQUksQ0FBQyxlQUFlLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDO1FBQ25DLElBQUksS0FBSyxHQUFHLHdCQUFRLENBQUMsRUFBRSxDQUFDLENBQUM7UUFDekIsSUFBSSxLQUFLLEVBQUU7WUFDUCxLQUFLLENBQUMsVUFBVSxFQUFFLENBQUM7WUFDbkIsS0FBSyxDQUFDLEtBQUssRUFBRSxDQUFDO1NBQ2pCO0lBQ0wsQ0FBQztJQUVEOzs7T0FHRztJQUNILGVBQWUsQ0FBQyxRQUFnQixDQUFDO1FBQzdCLElBQUksSUFBSSxDQUFDLFVBQVUsQ0FBQyxNQUFNLElBQUksSUFBSSxDQUFDLFdBQVc7WUFBRSxPQUFPO1FBQ3ZELElBQUksTUFBTSxHQUFvQixJQUFJLENBQUMsVUFBVSxDQUFDLE1BQU0sQ0FBQyxDQUFDLEVBQUUsSUFBSSxDQUFDLFVBQVUsQ0FBQyxNQUFNLEdBQUcsSUFBSSxDQUFDLFdBQVcsSUFBSSxLQUFLLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxVQUFVLENBQUMsTUFBTSxHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQyxDQUFBO1FBQy9KLE9BQU8sTUFBTSxDQUFDLE1BQU0sRUFBRTtZQUNsQixJQUFJLEVBQUUsR0FBa0IsTUFBTSxDQUFDLEdBQUcsRUFBRSxDQUFDO1lBQ3JDLElBQUksQ0FBQyxvQkFBb0IsQ0FBQyxFQUFFLENBQUMsQ0FBQztZQUM5QixJQUFJLHdCQUFRLENBQUMsRUFBRSxDQUFDO2dCQUNaLHdCQUFRLENBQUMsRUFBRSxDQUFDLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxDQUFDO1lBQy9CLDBCQUFVLENBQUMsRUFBRSxDQUFDLENBQUM7U0FDbEI7SUFDTCxDQUFDO0lBRU8sb0JBQW9CLENBQUMsRUFBVTtRQUNuQyxJQUFJLEVBQUUsR0FBRywwQkFBVSxDQUFDLEVBQUUsQ0FBQyxDQUFDO1FBQ3hCLElBQUksRUFBRSxDQUFDLENBQUMsQ0FBQyxFQUFFO1lBQ1AsS0FBSyxJQUFJLENBQUMsSUFBSSxFQUFFLENBQUMsQ0FBQyxDQUFDLEVBQUU7Z0JBQ2pCLHFCQUFXLENBQUMsR0FBRyxDQUFDLG1CQUFtQixDQUFDLENBQUMsRUFBRSxJQUFJLENBQUMsQ0FBQzthQUNoRDtTQUNKO0lBQ0wsQ0FBQztJQUdPLFlBQVksQ0FBQyxFQUFVLEVBQUUsR0FBRyxJQUFXO1FBQzNDLElBQUksS0FBSyxHQUFHLHdCQUFRLENBQUMsRUFBRSxDQUFDLENBQUM7UUFDekIsSUFBSSxDQUFDLEtBQUssRUFBRTtZQUNSLEtBQUssR0FBRyxJQUFJLENBQUMsMEJBQVUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQ2hDLDBCQUFVLENBQUMsRUFBRSxFQUFFLEtBQUssQ0FBQyxDQUFDO1NBQ3pCO1FBQ0QsS0FBSyxDQUFDLElBQUksQ0FBQyxHQUFHLElBQUksQ0FBQyxDQUFBO1FBQ25CLElBQUksRUFBRSxHQUFHLDBCQUFVLENBQUMsRUFBRSxDQUFDLENBQUM7UUFDeEIsSUFBSSxJQUFJLENBQUMsZUFBZSxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxLQUFLLEVBQUUsRUFBRTtZQUNwQyxJQUFJLENBQUMsVUFBVSxDQUFDLFFBQVEsQ0FBQyxLQUFLLENBQUMsQ0FBQztTQUNuQztJQUNMLENBQUM7Q0FDSjtBQXZHRCwwQkF1R0MiLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbInZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XHJcbiAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxyXG4gICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9O1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XHJcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cclxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XHJcbiAgICB9O1xyXG59KSgpO1xyXG4oZnVuY3Rpb24oKXtmdW5jdGlvbiByKGUsbix0KXtmdW5jdGlvbiBvKGksZil7aWYoIW5baV0pe2lmKCFlW2ldKXt2YXIgYz1cImZ1bmN0aW9uXCI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlO2lmKCFmJiZjKXJldHVybiBjKGksITApO2lmKHUpcmV0dXJuIHUoaSwhMCk7dmFyIGE9bmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIitpK1wiJ1wiKTt0aHJvdyBhLmNvZGU9XCJNT0RVTEVfTk9UX0ZPVU5EXCIsYX12YXIgcD1uW2ldPXtleHBvcnRzOnt9fTtlW2ldWzBdLmNhbGwocC5leHBvcnRzLGZ1bmN0aW9uKHIpe3ZhciBuPWVbaV1bMV1bcl07cmV0dXJuIG8obnx8cil9LHAscC5leHBvcnRzLHIsZSxuLHQpfXJldHVybiBuW2ldLmV4cG9ydHN9Zm9yKHZhciB1PVwiZnVuY3Rpb25cIj09dHlwZW9mIHJlcXVpcmUmJnJlcXVpcmUsaT0wO2k8dC5sZW5ndGg7aSsrKW8odFtpXSk7cmV0dXJuIG99cmV0dXJuIHJ9KSgpIiwiaW1wb3J0IE1hcFNjZW5lIGZyb20gXCIuL2JhdHRsZS9tYXAvdmlldy9NYXBTY2VuZVwiO1xyXG5pbXBvcnQgUmVkVGlwTWdyIGZyb20gXCIuL3JlZFRpcC9SZWRUaXBNZ3JcIjtcclxuaW1wb3J0IFZpZXdNZ3IgZnJvbSBcIi4vdmlldy9iYXNlL1ZpZXdNZ3JcIjtcclxuaW1wb3J0IHsgUGFuZWxSZWdpc3RlciB9IGZyb20gXCIuL3ZpZXcvYmFzZS9QYW5lbFJlZ2lzdGVyXCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBBcHB7XHJcbiAgICBtYXBTY2VuZTpNYXBTY2VuZTtcclxuICAgIHJlZFRpcE1ncjpSZWRUaXBNZ3I7XHJcbiAgICB2aWV3TWdyOlZpZXdNZ3JcclxuICAgIGNvbnN0cnVjdG9yKCl7XHJcbiAgICAgICAgdGhpcy5pbml0KCk7XHJcbiAgICB9XHJcbiAgICBpbml0KCk6dm9pZHtcclxuICAgICAgICBMYXlhLnN0YWdlLmFkZENoaWxkKHRoaXMubWFwU2NlbmUgPSBuZXcgTWFwU2NlbmUpO1xyXG4gICAgICAgIHRoaXMudmlld01nciA9IFZpZXdNZ3IuaW5zO1xyXG4gICAgICAgIHRoaXMucmVkVGlwTWdyID0gbmV3IFJlZFRpcE1ncjtcclxuICAgICAgICBWaWV3TWdyLmlucy5vcGVuUGFuZWwoUGFuZWxSZWdpc3Rlci5QQU5FTDQpXHJcbiAgICB9XHJcbn0iLCIvKipUaGlzIGNsYXNzIGlzIGF1dG9tYXRpY2FsbHkgZ2VuZXJhdGVkIGJ5IExheWFBaXJJREUsIHBsZWFzZSBkbyBub3QgbWFrZSBhbnkgbW9kaWZpY2F0aW9ucy4gKi9cclxuaW1wb3J0IEdhbWVVSSBmcm9tIFwiLi9zY3JpcHQvR2FtZVVJXCJcbmltcG9ydCBHYW1lQ29udHJvbCBmcm9tIFwiLi9zY3JpcHQvR2FtZUNvbnRyb2xcIlxuaW1wb3J0IEJ1bGxldCBmcm9tIFwiLi9zY3JpcHQvQnVsbGV0XCJcbmltcG9ydCBEcm9wQm94IGZyb20gXCIuL3NjcmlwdC9Ecm9wQm94XCJcclxuLypcclxuKiDmuLjmiI/liJ3lp4vljJbphY3nva47XHJcbiovXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEdhbWVDb25maWd7XHJcbiAgICBzdGF0aWMgd2lkdGg6bnVtYmVyPTcyMDtcclxuICAgIHN0YXRpYyBoZWlnaHQ6bnVtYmVyPTEyODA7XHJcbiAgICBzdGF0aWMgc2NhbGVNb2RlOnN0cmluZz1cInNob3dhbGxcIjtcclxuICAgIHN0YXRpYyBzY3JlZW5Nb2RlOnN0cmluZz1cIm5vbmVcIjtcclxuICAgIHN0YXRpYyBhbGlnblY6c3RyaW5nPVwidG9wXCI7XHJcbiAgICBzdGF0aWMgYWxpZ25IOnN0cmluZz1cImxlZnRcIjtcclxuICAgIHN0YXRpYyBzdGFydFNjZW5lOmFueT1cInRlc3QvQXN0YXIuc2NlbmVcIjtcclxuICAgIHN0YXRpYyBzY2VuZVJvb3Q6c3RyaW5nPVwiXCI7XHJcbiAgICBzdGF0aWMgZGVidWc6Ym9vbGVhbj1mYWxzZTtcclxuICAgIHN0YXRpYyBzdGF0OmJvb2xlYW49ZmFsc2U7XHJcbiAgICBzdGF0aWMgcGh5c2ljc0RlYnVnOmJvb2xlYW49ZmFsc2U7XHJcbiAgICBzdGF0aWMgZXhwb3J0U2NlbmVUb0pzb246Ym9vbGVhbj10cnVlO1xyXG4gICAgY29uc3RydWN0b3IoKXt9XHJcbiAgICBzdGF0aWMgaW5pdCgpe1xyXG4gICAgICAgIHZhciByZWc6IEZ1bmN0aW9uID0gTGF5YS5DbGFzc1V0aWxzLnJlZ0NsYXNzO1xyXG4gICAgICAgIHJlZyhcInNjcmlwdC9HYW1lVUkudHNcIixHYW1lVUkpO1xuICAgICAgICByZWcoXCJzY3JpcHQvR2FtZUNvbnRyb2wudHNcIixHYW1lQ29udHJvbCk7XG4gICAgICAgIHJlZyhcInNjcmlwdC9CdWxsZXQudHNcIixCdWxsZXQpO1xuICAgICAgICByZWcoXCJzY3JpcHQvRHJvcEJveC50c1wiLERyb3BCb3gpO1xyXG4gICAgfVxyXG59XHJcbkdhbWVDb25maWcuaW5pdCgpOyIsImltcG9ydCBHYW1lQ29uZmlnIGZyb20gXCIuL0dhbWVDb25maWdcIjtcclxuaW1wb3J0IFJlZFRpcE1nciBmcm9tIFwiLi9yZWRUaXAvUmVkVGlwTWdyXCI7XHJcbmltcG9ydCBSZWRUaXBUZXN0IGZyb20gXCIuL3JlZFRpcC9SZWRUaXBUZXN0XCI7XHJcbmltcG9ydCBSZXNvdXJjZU1nciBmcm9tIFwiLi9SZXNvdXJjZU1nclwiO1xyXG5pbXBvcnQgeyB1aSB9IGZyb20gXCIuL3VpL2xheWFNYXhVSVwiO1xyXG5pbXBvcnQgeyBQYW5lbFJlZ2lzdGVyIH0gZnJvbSBcIi4vdmlldy9iYXNlL1BhbmVsUmVnaXN0ZXJcIjtcclxuaW1wb3J0IFZpZXdNZ3IgZnJvbSBcIi4vdmlldy9iYXNlL1ZpZXdNZ3JcIjtcclxuaW1wb3J0IE1hcFNjZW5lIGZyb20gXCIuL2JhdHRsZS9tYXAvdmlldy9NYXBTY2VuZVwiO1xyXG5pbXBvcnQgQXBwIGZyb20gXCIuL0FwcFwiO1xyXG5jbGFzcyBNYWluIHtcclxuXHRjb25zdHJ1Y3RvcigpIHtcclxuXHRcdC8v5qC55o2uSURF6K6+572u5Yid5aeL5YyW5byV5pOOXHRcdFxyXG5cdFx0aWYgKHdpbmRvd1tcIkxheWEzRFwiXSkgTGF5YTNELmluaXQoR2FtZUNvbmZpZy53aWR0aCwgR2FtZUNvbmZpZy5oZWlnaHQpO1xyXG5cdFx0ZWxzZSBMYXlhLmluaXQoR2FtZUNvbmZpZy53aWR0aCwgR2FtZUNvbmZpZy5oZWlnaHQsIExheWFbXCJXZWJHTFwiXSk7XHJcblx0XHRMYXlhW1wiUGh5c2ljc1wiXSAmJiBMYXlhW1wiUGh5c2ljc1wiXS5lbmFibGUoKTtcclxuXHRcdExheWFbXCJEZWJ1Z1BhbmVsXCJdICYmIExheWFbXCJEZWJ1Z1BhbmVsXCJdLmVuYWJsZSgpO1xyXG5cdFx0TGF5YS5zdGFnZS5zY2FsZU1vZGUgPSBHYW1lQ29uZmlnLnNjYWxlTW9kZTtcclxuXHRcdExheWEuc3RhZ2Uuc2NyZWVuTW9kZSA9IEdhbWVDb25maWcuc2NyZWVuTW9kZTtcclxuXHRcdC8v5YW85a655b6u5L+h5LiN5pSv5oyB5Yqg6L29c2NlbmXlkI7nvIDlnLrmma9cclxuXHRcdExheWEuVVJMLmV4cG9ydFNjZW5lVG9Kc29uID0gR2FtZUNvbmZpZy5leHBvcnRTY2VuZVRvSnNvbjtcclxuXHJcblx0XHQvL+aJk+W8gOiwg+ivlemdouadv++8iOmAmui/h0lEReiuvue9ruiwg+ivleaooeW8j++8jOaIluiAhXVybOWcsOWdgOWinuWKoGRlYnVnPXRydWXlj4LmlbDvvIzlnYflj6/miZPlvIDosIPor5XpnaLmnb/vvIlcclxuXHRcdGlmIChHYW1lQ29uZmlnLmRlYnVnIHx8IExheWEuVXRpbHMuZ2V0UXVlcnlTdHJpbmcoXCJkZWJ1Z1wiKSA9PSBcInRydWVcIikgTGF5YS5lbmFibGVEZWJ1Z1BhbmVsKCk7XHJcblx0XHRpZiAoR2FtZUNvbmZpZy5waHlzaWNzRGVidWcgJiYgTGF5YVtcIlBoeXNpY3NEZWJ1Z0RyYXdcIl0pIExheWFbXCJQaHlzaWNzRGVidWdEcmF3XCJdLmVuYWJsZSgpO1xyXG5cdFx0aWYgKEdhbWVDb25maWcuc3RhdCkgTGF5YS5TdGF0LnNob3coKTtcclxuXHRcdExheWEuYWxlcnRHbG9iYWxFcnJvciA9IHRydWU7XHJcblxyXG5cdFx0Ly/mv4DmtLvotYTmupDniYjmnKzmjqfliLbvvIx2ZXJzaW9uLmpzb27nlLFJREXlj5HluIPlip/og73oh6rliqjnlJ/miJDvvIzlpoLmnpzmsqHmnInkuZ/kuI3lvbHlk43lkI7nu63mtYHnqItcclxuXHRcdExheWEuUmVzb3VyY2VWZXJzaW9uLmVuYWJsZShcInZlcnNpb24uanNvblwiLCBMYXlhLkhhbmRsZXIuY3JlYXRlKHRoaXMsIHRoaXMub25WZXJzaW9uTG9hZGVkKSwgTGF5YS5SZXNvdXJjZVZlcnNpb24uRklMRU5BTUVfVkVSU0lPTik7XHJcblx0fVxyXG5cclxuXHRvblZlcnNpb25Mb2FkZWQoKTogdm9pZCB7XHJcblx0XHQvL+a/gOa0u+Wkp+Wwj+WbvuaYoOWwhO+8jOWKoOi9veWwj+WbvueahOaXtuWAme+8jOWmguaenOWPkeeOsOWwj+WbvuWcqOWkp+WbvuWQiOmbhumHjOmdou+8jOWImeS8mOWFiOWKoOi9veWkp+WbvuWQiOmbhu+8jOiAjOS4jeaYr+Wwj+WbvlxyXG5cdFx0Ly8gTGF5YS5BdGxhc0luZm9NYW5hZ2VyLmVuYWJsZShcImZpbGVjb25maWcuanNvblwiLCBMYXlhLkhhbmRsZXIuY3JlYXRlKHRoaXMsIHRoaXMub25Db25maWdMb2FkZWQpKTtcclxuXHRcdHRoaXMub25Db25maWdMb2FkZWQoKTtcclxuXHRcdFJlc291cmNlTWdyLmlucy5zdGFydENoZWNrKCk7XHJcblx0fVxyXG5cdHN0YXRpYyBhcHA6QXBwO1xyXG5cdG9uQ29uZmlnTG9hZGVkKCk6IHZvaWQge1xyXG5cdFx0Ly/liqDovb1JREXmjIflrprnmoTlnLrmma9cclxuXHRcdC8vIEdhbWVDb25maWcuc3RhcnRTY2VuZSAmJiBMYXlhLlNjZW5lLm9wZW4oR2FtZUNvbmZpZy5zdGFydFNjZW5lLHRydWUsbnVsbCxMYXlhLkhhbmRsZXIuY3JlYXRlKHRoaXMsdGhpcy5vcGVuU2NlbmUpKTtcclxuXHRcdE1haW4uYXBwID0gbmV3IEFwcDtcclxuXHRcdHRoaXMuY3JlYXRlQnRuKFxyXG5cdFx0W1wiYnRuMVwiLCgpPT57Vmlld01nci5pbnMub3BlblBhbmVsKFBhbmVsUmVnaXN0ZXIuUEFORUwxKX1dLFxyXG5cdFx0W1wiYnRuMlwiLCgpPT57Vmlld01nci5pbnMub3BlblBhbmVsKFBhbmVsUmVnaXN0ZXIuUEFORUwyKX1dLFxyXG5cdFx0W1wiYnRuM1wiLCgpPT57Vmlld01nci5pbnMub3BlblBhbmVsKFBhbmVsUmVnaXN0ZXIuUEFORUwzKX1dXHJcblx0XHQpO1xyXG5cdFx0XHJcblx0fVxyXG5cclxuXHRjcmVhdGVCdG4oLi4uYnRuczpbc3RyaW5nLEZ1bmN0aW9uXVtdKTp2b2lke1xyXG5cdFx0bGV0IF94ID0gMDtcclxuXHRcdGZvcihsZXQgYXJyIG9mIGJ0bnMpe1xyXG5cdFx0XHRsZXQgbGFiID0gbmV3IExheWEuTGFiZWw7XHJcblx0XHRcdGxhYi5jb2xvciA9IFwiI2ZmZlwiXHJcblx0XHRcdGxhYi50ZXh0ID0gYXJyWzBdXHJcblx0XHRcdExheWEuc3RhZ2UuYWRkQ2hpbGQobGFiKVxyXG5cdFx0XHRsYWIueCA9IF94O1xyXG5cdFx0XHRsYWIuZm9udFNpemUgPSAzMFxyXG5cdFx0XHRfeCArPSAxMDBcclxuXHRcdFx0bGFiLm9uKExheWEuRXZlbnQuQ0xJQ0ssdGhpcyxhcnJbMV0pXHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHRvcGVuU2NlbmUoc2VuY2U6TGF5YS5TY2VuZSk6dm9pZHtcclxuXHJcblx0fVxyXG59XHJcblxyXG4vL+a/gOa0u+WQr+WKqOexu1xyXG5uZXcgTWFpbigpO1xyXG4iLCJpbXBvcnQgVmlld01nciBmcm9tIFwiLi92aWV3L2Jhc2UvVmlld01nclwiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUmVzb3VyY2VNZ3Ige1xyXG4gICAgY2xlYXJBdGxhc1F1ZXVlOiBzdHJpbmdbXSA9IFtdO1xyXG4gICAgY2xlYXJRdWV1ZTogTGF5YS5UZXh0dXJlW10gPSBbXVxyXG4gICAgLy/lpKflm77pm4blvJXnlKjorqHmlbBcclxuICAgIGF0bGFzTWFwOiB7IFtrZXk6IHN0cmluZ106IG51bWJlciB9ID0ge31cclxuICAgIC8v5q+P5bin6ZSA5q+B6LWE5rqQ5pyA5aSn5pWw6YePXHJcbiAgICBzdGF0aWMgcmVhZG9ubHkgZnJhbWVDbGVhckNvdW50OiBudW1iZXIgPSAyO1xyXG4gICAgc3RhdGljIHJlYWRvbmx5IGNoZWNrQ2xlYXJUaW1lOiBudW1iZXIgPSAxMDAwO1xyXG4gICAgcHJpdmF0ZSBzdGF0aWMgX2luczogUmVzb3VyY2VNZ3I7XHJcbiAgICBzdGF0aWMgZ2V0IGlucygpOiBSZXNvdXJjZU1nciB7XHJcbiAgICAgICAgcmV0dXJuIFJlc291cmNlTWdyLl9pbnMgfHwgKFJlc291cmNlTWdyLl9pbnMgPSBuZXcgUmVzb3VyY2VNZ3IpXHJcbiAgICB9XHJcbiAgICBzdGFydENoZWNrKCk6IHZvaWQge1xyXG4gICAgICAgIExheWEudGltZXIubG9vcChSZXNvdXJjZU1nci5jaGVja0NsZWFyVGltZSwgdGhpcywgdGhpcy5sb29wQ2hlY2tUZXh0dXJlKTtcclxuICAgICAgICBMYXlhLnRpbWVyLmZyYW1lTG9vcCgxLCB0aGlzLCB0aGlzLmxvb3BEZXN0cm95VGV4dHVyZSk7XHJcbiAgICB9XHJcblxyXG4gICAgc3RvcENoZWNrKCk6IHZvaWQge1xyXG4gICAgICAgIExheWEudGltZXIuY2xlYXIodGhpcywgdGhpcy5sb29wQ2hlY2tUZXh0dXJlKTtcclxuICAgICAgICBMYXlhLnRpbWVyLmNsZWFyKHRoaXMsIHRoaXMubG9vcERlc3Ryb3lUZXh0dXJlKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOajgOa1i+WbvueJh+i1hOa6kO+8jOWmguaenOW8leeUqOiuoeaVsOS4ujDliJnmt7vliqDliLDplIDmr4HpmJ/liJdcclxuICAgICAqL1xyXG4gICAgbG9vcENoZWNrVGV4dHVyZSgpOiB2b2lkIHtcclxuICAgICAgICBpZiAodGhpcy5jbGVhclF1ZXVlLmxlbmd0aCkgcmV0dXJuO1xyXG4gICAgICAgIGxldCB0ZW1wOiBMYXlhLlRleHR1cmU7XHJcbiAgICAgICAgZm9yIChsZXQgayBpbiBMYXlhLkxvYWRlci5sb2FkZWRNYXApIHtcclxuICAgICAgICAgICAgdGVtcCA9IExheWEuTG9hZGVyLmxvYWRlZE1hcFtrXTtcclxuICAgICAgICAgICAgaWYgKCF0ZW1wLmJpdG1hcCkgY29udGludWU7XHJcbiAgICAgICAgICAgIGlmICh0ZW1wW1wiX3JlZmVyZW5jZUNvdW50XCJdID09IDAgJiYgdGVtcC5iaXRtYXBbXCJfcmVmZXJlbmNlQ291bnRcIl0gPT0gMCkge1xyXG4gICAgICAgICAgICAgICAgLyoq566A5piT5Yik5pat5aaC5p6c5piv5Zu+6ZuG5bCx6Ieq5Yqo5LiN5riF55CG77yI5b+955Wl5Y+q5pyJ5LiA5byg5Zu+54mH55qE5Zu+6ZuG77yJICovXHJcbiAgICAgICAgICAgICAgICBpZiAoKHRlbXAuYml0bWFwIGFzIExheWEuVGV4dHVyZTJEKS53aWR0aCA9PSB0ZW1wLndpZHRoXHJcbiAgICAgICAgICAgICAgICAgICAgJiYgKHRlbXAuYml0bWFwIGFzIExheWEuVGV4dHVyZTJEKS5oZWlnaHQgPT0gdGVtcC5oZWlnaHQpIHtcclxuICAgICAgICAgICAgICAgICAgICAvL+WOi+WFpemUgOavgemYn+WIl1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2xlYXJRdWV1ZS5wdXNoKHRlbXApO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog5om56YeP6ZSA5q+B5Zu+54mHXHJcbiAgICAgKi9cclxuICAgIGxvb3BEZXN0cm95VGV4dHVyZSgpOiB2b2lkIHtcclxuICAgICAgICBWaWV3TWdyLmlucy50cnlEZXN0b3J5UGFuZWwoKTtcclxuICAgICAgICBsZXQgaWR4ID0gMDtcclxuICAgICAgICBsZXQgdGV4dHVyZTogTGF5YS5UZXh0dXJlID0gdGhpcy5jbGVhclF1ZXVlLnNoaWZ0KCk7XHJcbiAgICAgICAgd2hpbGUgKHRleHR1cmUpIHtcclxuICAgICAgICAgICAgLyoq6YeN5paw5Yik5pat5piv5ZCm5pyJ6KKr5byV55So77yM6YG/5YWN562J5b6F6ZSA5q+B6L+H56iL5Lit5Y+I6KKr5byV55So6YCg5oiQ6K+v5YigICovXHJcbiAgICAgICAgICAgIGlmICh0ZXh0dXJlLmJpdG1hcCAmJiB0ZXh0dXJlLmJpdG1hcFtcIl9yZWZlcmVuY2VDb3VudFwiXSA9PSAwKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodGV4dHVyZS51cmwpIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBMYXlhLmxvYWRlci5jbGVhclJlcyh0ZXh0dXJlLnVybCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jbGVhckVuZ2luZUNhY2hlKHRleHR1cmUuYml0bWFwKTtcclxuICAgICAgICAgICAgICAgICAgICBpZHgrKztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoaWR4ID49IFJlc291cmNlTWdyLmZyYW1lQ2xlYXJDb3VudCkgYnJlYWs7XHJcbiAgICAgICAgICAgIHRleHR1cmUgPSB0aGlzLmNsZWFyUXVldWUuc2hpZnQoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy/muIXnkIbkuIDkuKrlpKflm77pm4ZcclxuICAgICAgICB0aGlzLmNsZWFyT25lQXRsYXMoKTtcclxuICAgIH1cclxuXHJcbiAgICAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLeWbvumbhi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4gICAgYWRkQXRsYXNSZWZyZW5jZSh1cmw6IHN0cmluZyk6IHZvaWQge1xyXG4gICAgICAgIGlmICh0aGlzLmF0bGFzTWFwW3VybF0pIHtcclxuICAgICAgICAgICAgdGhpcy5hdGxhc01hcFt1cmxdID0gdGhpcy5hdGxhc01hcFt1cmxdICsgMTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLmF0bGFzTWFwW3VybF0gPSAxO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICByZW1vdmVBdGxhc1JlZnJlbmNlKHVybDogc3RyaW5nLCBhdXRvQ2xlYXI6IGJvb2xlYW4gPSBmYWxzZSk6IHZvaWQge1xyXG4gICAgICAgIGlmICghdGhpcy5hdGxhc01hcFt1cmxdKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCLlm77pm4blvJXnlKjorqHmlbDpgLvovpHmnInpl67pophcIilcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLmF0bGFzTWFwW3VybF0gPSB0aGlzLmF0bGFzTWFwW3VybF0gLSAxO1xyXG4gICAgICAgICAgICBpZiAoIXRoaXMuYXRsYXNNYXBbdXJsXSAmJiBhdXRvQ2xlYXIpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMucHVzaERlc3RvcnlBdGxhc1F1ZXVlKHVybCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgfVxyXG5cclxuICAgIC8qKua3u+WKoOa4heeQhumYn+WIlyAqL1xyXG4gICAgcHVzaERlc3RvcnlBdGxhc1F1ZXVlKGF0bGFzOiBzdHJpbmcpOiB2b2lkIHtcclxuICAgICAgICBpZiAodGhpcy5jbGVhckF0bGFzUXVldWUuaW5kZXhPZihhdGxhcykgPT0gLTEpIHtcclxuICAgICAgICAgICAgdGhpcy5jbGVhckF0bGFzUXVldWUucHVzaChhdGxhcyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKuaJp+ihjOa4heeQhuWkp+WbvumbhiAqL1xyXG4gICAgcHJpdmF0ZSBjbGVhck9uZUF0bGFzKCk6IHZvaWQge1xyXG4gICAgICAgIGlmICghdGhpcy5jbGVhckF0bGFzUXVldWUubGVuZ3RoKSByZXR1cm47XHJcbiAgICAgICAgbGV0IHVybDogc3RyaW5nO1xyXG4gICAgICAgIC8v5aSn5Zu+6ZuG5re75Yqg5byV55So6K6h5pWw5pyJ5Y+v6IO95Zu+6ZuG6L+Y5rKh5Yqg6L2977yM5aaC5p6c5rKh5pyJ6LWE5rqQ6KGo56S66L+Y5rKh5Yqg6L29XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDAsIGxlbiA9IHRoaXMuY2xlYXJBdGxhc1F1ZXVlLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XHJcbiAgICAgICAgICAgIGlmIChMYXlhLmxvYWRlci5nZXRSZXModGhpcy5jbGVhckF0bGFzUXVldWVbaV0pKSB7XHJcbiAgICAgICAgICAgICAgICB1cmwgPSB0aGlzLmNsZWFyQXRsYXNRdWV1ZS5zcGxpY2UoaSwgMSlbMF07XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodXJsICYmICF0aGlzLmF0bGFzTWFwW3VybF0pIHtcclxuICAgICAgICAgICAgZGVsZXRlIHRoaXMuYXRsYXNNYXBbdXJsXTtcclxuICAgICAgICAgICAgTGF5YS5sb2FkZXIuY2xlYXJSZXModXJsKTtcclxuICAgICAgICAgICAgdXJsID0gTGF5YS5VUkwuZm9ybWF0VVJMKHVybC5zdWJzdHJpbmcoMCwgdXJsLmxhc3RJbmRleE9mKFwiLlwiKSkgKyBcIi5wbmdcIik7XHJcbiAgICAgICAgICAgIHRoaXMuY2xlYXJFbmdpbmVDYWNoZShMYXlhLmxvYWRlci5nZXRSZXModXJsKSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKua4heeQhuW8leaTjueahOe8k+WtmCAo5b275bqV5riF55CGKSovXHJcbiAgICBwcml2YXRlIGNsZWFyRW5naW5lQ2FjaGUodGV4dHVyZTogTGF5YS5UZXh0dXJlMkQpOiB2b2lkIHtcclxuICAgICAgICBpZiAodGV4dHVyZSkge1xyXG4gICAgICAgICAgICBMYXlhLkxvYWRlci5jbGVhclJlcyh0ZXh0dXJlLnVybCk7XHJcbiAgICAgICAgICAgIGxldCByZXNvdXJjZSA9IExheWEuUmVzb3VyY2UuZ2V0UmVzb3VyY2VCeUlEKHRleHR1cmVbXCJpZFwiXSk7XHJcbiAgICAgICAgICAgIHJlc291cmNlICYmIHJlc291cmNlLmRlc3Ryb3koKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG59IiwiLyoqXHJcbiAqIOWIneWni+WMluS4gOasoeWvu+i3r+eahOWcsOWbviBBc3Rhci5pbnMuaW5pdCgpXHJcbiAqIOW8gOWQr+Wvu+i3ryBBc3Rhci5pbnMuZmluZFBhdGgoKVxyXG4gKiBcclxuICovXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEFTdGFyIHtcclxuICAgIC8qKuWbuuWumua2iOiAlyAqL1xyXG4gICAgc3RhdGljIHJlYWRvbmx5IHN0YXRpY0Nvc3QgPSAxMDtcclxuICAgIHN0YXRpYyB4TnVtOiBudW1iZXJcclxuICAgIHN0YXRpYyB5TnVtOiBudW1iZXJcclxuXHJcbiAgICAvKirlnLDlm77moLzlrZDpm4blkIggKi9cclxuICAgIHN0YXRpYyBtYXBOb2RlTGlzdDogSU1hcE5vZGVbXVtdO1xyXG5cclxuICAgIHByaXZhdGUgb3Blbkxpc3Q6IElNYXBOb2RlW10gPSBbXTtcclxuICAgIHByaXZhdGUgY2xvc2VMaXN0OiBJTWFwTm9kZVtdID0gW107XHJcbiAgICBwcml2YXRlIHN0YXRpYyBfaW5zOiBBU3RhcjtcclxuICAgIHN0YXRpYyBnZXQgaW5zKCk6IEFTdGFyIHtcclxuICAgICAgICBpZiAoIUFTdGFyLl9pbnMpIEFTdGFyLl9pbnMgPSBuZXcgQVN0YXI7XHJcbiAgICAgICAgcmV0dXJuIEFTdGFyLl9pbnM7XHJcbiAgICB9XHJcbiAgICBpbml0KGFycjogSU1hcE5vZGVbXVtdKTogdm9pZCB7XHJcbiAgICAgICAgQVN0YXIueE51bSA9IGFyclswXS5sZW5ndGg7XHJcbiAgICAgICAgQVN0YXIueU51bSA9IGFyci5sZW5ndGg7XHJcbiAgICAgICAgQVN0YXIubWFwTm9kZUxpc3QgPSBhcnI7XHJcblxyXG4gICAgfVxyXG4gICAgLyoq5pu85ZOI6aG/5Lyw5Lu35rOVICovXHJcbiAgICBwcml2YXRlIG1hbmhhdHRhbihmcm9tTm9kZTogSU1hcE5vZGUsIHRhcmdldE5vZGU6IElNYXBOb2RlKTogbnVtYmVyIHtcclxuICAgICAgICByZXR1cm4gTWF0aC5hYnMoZnJvbU5vZGUueCAtIHRhcmdldE5vZGUueCkgKiBBU3Rhci5zdGF0aWNDb3N0ICsgTWF0aC5hYnMoZnJvbU5vZGUueSAtIHRhcmdldE5vZGUueSkgKiBBU3Rhci5zdGF0aWNDb3N0O1xyXG4gICAgfVxyXG5cclxuICAgIC8qKuenu+WKqOaIkOacrO+8jOW9seWTjei1sOaWnOWvueinkui/mOaYr+WeguebtCAqL1xyXG4gICAgcHJpdmF0ZSBnZXRHKGZyb21Ob2RlOiBJTWFwTm9kZSwgdGFyZ2V0Tm9kZTogSU1hcE5vZGUpOiBudW1iZXIge1xyXG4gICAgICAgIHJldHVybiBmcm9tTm9kZS54IC0gdGFyZ2V0Tm9kZS54ID09IDAgfHwgZnJvbU5vZGUueSAtIHRhcmdldE5vZGUueSA9PSAwID8gMTAgOiAxNDtcclxuICAgIH1cclxuXHJcbiAgICAvKirojrflj5blkajlm7Q45qC8ICovXHJcbiAgICBwcml2YXRlIGdldEFyb3VuZE5vZGUobm9kZTogSU1hcE5vZGUpIHtcclxuICAgICAgICBsZXQgeCA9IG5vZGUueCAlIEFTdGFyLnhOdW07XHJcbiAgICAgICAgbGV0IHkgPSBub2RlLnkgJSBBU3Rhci55TnVtO1xyXG4gICAgICAgIGxldCByZXM6IElNYXBOb2RlW10gPSBbXTtcclxuICAgICAgICBsZXQgbWFwID0gQVN0YXIubWFwTm9kZUxpc3Q7XHJcbiAgICAgICAgbGV0IHRlbXA6IElNYXBOb2RlW107XHJcbiAgICAgICAgaWYgKHRlbXAgPSBtYXBbeSAtIDFdKSB7XHJcbiAgICAgICAgICAgIGlmICh0ZW1wW3ggLSAxXSkge1xyXG4gICAgICAgICAgICAgICAgcmVzLnB1c2godGVtcFt4IC0gMV0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICh0ZW1wW3hdKSB7XHJcbiAgICAgICAgICAgICAgICByZXMucHVzaCh0ZW1wW3hdKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAodGVtcFt4ICsgMV0pIHtcclxuICAgICAgICAgICAgICAgIHJlcy5wdXNoKHRlbXBbeCArIDFdKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAobWFwW3ldW3ggLSAxXSkge1xyXG4gICAgICAgICAgICByZXMucHVzaChtYXBbeV1beCAtIDFdKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKG1hcFt5XVt4ICsgMV0pIHtcclxuICAgICAgICAgICAgcmVzLnB1c2gobWFwW3ldW3ggKyAxXSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAodGVtcCA9IG1hcFt5ICsgMV0pIHtcclxuICAgICAgICAgICAgaWYgKHRlbXBbeCAtIDFdKSB7XHJcbiAgICAgICAgICAgICAgICByZXMucHVzaCh0ZW1wW3ggLSAxXSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKHRlbXBbeF0pIHtcclxuICAgICAgICAgICAgICAgIHJlcy5wdXNoKHRlbXBbeF0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICh0ZW1wW3ggKyAxXSkge1xyXG4gICAgICAgICAgICAgICAgcmVzLnB1c2godGVtcFt4ICsgMV0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiByZXM7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBcclxuICAgICAqIEBwYXJhbSBmcm9tTm9kZSDotbflp4vngrlcclxuICAgICAqIEBwYXJhbSB0b05vZGUg55uu5qCH54K5XHJcbiAgICAgKiBAcGFyYW0gbW92ZVR5cGUg56e75Yqo57G75Z6L77yM5b2x5ZON5Y+v56m/6LaK5Zyw5b2iXHJcbiAgICAgKiBAcmV0dXJucyBcclxuICAgICAqL1xyXG4gICAgZmluZFBhdGgoZnJvbU5vZGU6IElNYXBOb2RlLCB0b05vZGU6IElNYXBOb2RlLCBtb3ZlVHlwZTogbW92ZV90eXBlKTogSU1hcE5vZGVbXSB7XHJcbiAgICAgICAgaWYgKGZyb21Ob2RlID09IHRvTm9kZSB8fCAobW92ZVR5cGUgYXMgbnVtYmVyKSA8IHRvTm9kZS50ZXJyYWluKSByZXR1cm4gW2Zyb21Ob2RlXTtcclxuICAgICAgICBmcm9tTm9kZS5wYXJlbnQgPSBudWxsO1xyXG4gICAgICAgIHRoaXMub3Blbkxpc3QubGVuZ3RoID0gdGhpcy5jbG9zZUxpc3QubGVuZ3RoID0gMDtcclxuICAgICAgICB0aGlzLm9wZW5MaXN0LnB1c2goZnJvbU5vZGUpO1xyXG4gICAgICAgIGZyb21Ob2RlLkcgPSAwO1xyXG4gICAgICAgIGxldCBnOiBudW1iZXI7XHJcbiAgICAgICAgbGV0IGluZGV4OiBudW1iZXI7XHJcbiAgICAgICAgd2hpbGUgKGZyb21Ob2RlID0gdGhpcy5vcGVuTGlzdC5wb3AoKSkge1xyXG4gICAgICAgICAgICBsZXQgYXJvdW5kID0gdGhpcy5nZXRBcm91bmROb2RlKGZyb21Ob2RlKTtcclxuICAgICAgICAgICAgdGhpcy5jbG9zZUxpc3QucHVzaChmcm9tTm9kZSk7XHJcbiAgICAgICAgICAgIGZvciAobGV0IG5vZGUgb2YgYXJvdW5kKSB7XHJcbiAgICAgICAgICAgICAgICAvL+aJvuWIsOebruagh1xyXG4gICAgICAgICAgICAgICAgaWYgKG5vZGUgPT0gdG9Ob2RlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbm9kZS5wYXJlbnQgPSBmcm9tTm9kZTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5wYXJzZVBhdGgobm9kZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5jbG9zZUxpc3QuaW5kZXhPZihub2RlKSA+PSAwIHx8IChtb3ZlVHlwZSBhcyBudW1iZXIpIDwgbm9kZS50ZXJyYWluKSBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgIGcgPSBmcm9tTm9kZS5HICsgdGhpcy5nZXRHKGZyb21Ob2RlLCBub2RlKTtcclxuICAgICAgICAgICAgICAgIGluZGV4ID0gdGhpcy5vcGVuTGlzdC5pbmRleE9mKG5vZGUpXHJcbiAgICAgICAgICAgICAgICBpZiAoaW5kZXggPT0gLTEpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLm9wZW5MaXN0LnB1c2gobm9kZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgbm9kZS5wYXJlbnQgPSBmcm9tTm9kZTtcclxuICAgICAgICAgICAgICAgICAgICBub2RlLkggPSB0aGlzLm1hbmhhdHRhbihub2RlLCB0b05vZGUpO1xyXG4gICAgICAgICAgICAgICAgICAgIG5vZGUuRyA9IGc7XHJcbiAgICAgICAgICAgICAgICAgICAgbm9kZS5GID0gbm9kZS5IICsgbm9kZS5HO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5vcGVuTGlzdFtpbmRleF0uRyA+IGcpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbm9kZS5HID0gZztcclxuICAgICAgICAgICAgICAgICAgICAgICAgbm9kZS5wYXJlbnQgPSBmcm9tTm9kZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbm9kZS5GID0gdGhpcy5vcGVuTGlzdFtpbmRleF0uRyArIHRoaXMub3Blbkxpc3RbaW5kZXhdLkg7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMub3Blbkxpc3Quc29ydCgoYSwgYikgPT4gYi5GIC0gYS5GKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIFt0b05vZGVdO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICBwcml2YXRlIHBhcnNlUGF0aChub2RlOiBJTWFwTm9kZSkge1xyXG4gICAgICAgIGxldCByZXM6IElNYXBOb2RlW10gPSBbXTtcclxuICAgICAgICBkbyB7XHJcbiAgICAgICAgICAgIHJlcy5wdXNoKG5vZGUpO1xyXG4gICAgICAgICAgICBub2RlID0gbm9kZS5wYXJlbnQ7XHJcbiAgICAgICAgfSB3aGlsZSAobm9kZSlcclxuICAgICAgICByZXR1cm4gcmVzO1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIElNYXBOb2RlIHtcclxuICAgIHdpZHRoOiBudW1iZXJcclxuICAgIGhlaWdodDogbnVtYmVyXHJcbiAgICB4OiBudW1iZXJcclxuICAgIHk6IG51bWJlclxyXG4gICAgLyoq5Zyw5b2i5raI6ICXKOmihOeVmSkgKi9cclxuICAgIGNvc3Q/OiBudW1iZXJcclxuICAgIC8qKuWcsOW9ou+8iOmihOeVme+8iSAqL1xyXG4gICAgdGVycmFpbj86IHRlcnJhaW5fdHlwZVxyXG4gICAgcGFyZW50PzogSU1hcE5vZGVcclxuICAgIEc/OiBudW1iZXJcclxuICAgIEg/OiBudW1iZXJcclxuICAgIEY/OiBudW1iZXJcclxufVxyXG5cclxuLyoq5oyJ5aSn5bCP6aG65bqP77yM6LaK5aSn5raI6ICX6LaK6auYICovXHJcbmV4cG9ydCBlbnVtIHRlcnJhaW5fdHlwZSB7XHJcbiAgICB3YXRlcixcclxuICAgIG5vcm1hbCxcclxuICAgIGZseSxcclxuICAgIHVud2Fsa1xyXG59XHJcblxyXG4vKirlj6/ku6Xnp7vliqjnmoTmlrnlvI8gKi9cclxuZXhwb3J0IGVudW0gbW92ZV90eXBlIHtcclxuICAgIHdhbGsgPSB0ZXJyYWluX3R5cGUubm9ybWFsLFxyXG4gICAgZmx5ID0gdGVycmFpbl90eXBlLmZseVxyXG59IiwiaW1wb3J0IHsgSU1hcE5vZGUgfSBmcm9tIFwiLi9BU3RhclwiO1xyXG4vKirlnLDlm77oioLngrnmlbDmja4gKi9cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTWFwTm9kZSBpbXBsZW1lbnRzIElNYXBOb2RlIHtcclxuICAgIHdpZHRoOiBudW1iZXJcclxuICAgIGhlaWdodDogbnVtYmVyXHJcbiAgICB4OiBudW1iZXJcclxuICAgIHk6IG51bWJlclxyXG4gICAgcGFyZW50PzogSU1hcE5vZGVcclxuICAgIEc/OiBudW1iZXJcclxuICAgIEg/OiBudW1iZXJcclxuICAgIEY/OiBudW1iZXJcclxuXHJcblxyXG4gICAgcmVsZWFzZSgpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLndpZHRoID0gdGhpcy5oZWlnaHQgPSB0aGlzLnggPSB0aGlzLnkgPVxyXG4gICAgICAgICAgICB0aGlzLkcgPSB0aGlzLkggPSB0aGlzLkYgPSAwO1xyXG4gICAgfVxyXG5cclxuICAgIHNldFRvKHg6IG51bWJlciwgeTogbnVtYmVyLCB3aWR0aDogbnVtYmVyLCBoZWlnaHQ6IG51bWJlcik6IHZvaWQge1xyXG4gICAgICAgIHRoaXMueCA9IHg7XHJcbiAgICAgICAgdGhpcy55ID0geTtcclxuICAgICAgICB0aGlzLndpZHRoID0gd2lkdGg7XHJcbiAgICAgICAgdGhpcy5oZWlnaHQgPSBoZWlnaHQ7XHJcbiAgICB9XHJcbn1cclxuIiwiaW1wb3J0IEFTdGFyLCB7IElNYXBOb2RlLCB0ZXJyYWluX3R5cGUsIG1vdmVfdHlwZSB9IGZyb20gXCIuLi9BU3RhclwiXHJcbmltcG9ydCB7IHVpIH0gZnJvbSBcIi4uLy4uLy4uL3VpL2xheWFNYXhVSVwiO1xyXG5pbXBvcnQgSVZpZXcgZnJvbSBcIi4uLy4uLy4uL3ZpZXcvYmFzZS9JVmlld1wiO1xyXG5sZXQgIHN0YXJ0UG9pbnQ6SU1hcE5vZGU9IHVuZGVmaW5lZCxlbmRQb2ludDpJTWFwTm9kZSA9IHVuZGVmaW5lZFxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBBc3RhclRlc3QgZXh0ZW5kcyB1aS50ZXN0LkFzdGFyVUkgaW1wbGVtZW50cyBJVmlldyB7XHJcbiAgICBvcGVuKC4uLmFyZ3M6IGFueVtdKTogdm9pZCB7IH1cclxuICAgIGNsb3NlKCk6IHZvaWQgeyB9XHJcbiAgIFxyXG4gICAgbWFwOntba2V5OnN0cmluZ106U3BOb2RlfSA9IHt9XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBzdXBlcigpXHJcbiAgICAgICAgbGV0IGFyciA9IFtdXHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCAzMDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGxldCByb2wgPSBbXVxyXG4gICAgICAgICAgICBhcnIucHVzaChyb2wpXHJcbiAgICAgICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgMzA7IGorKykge1xyXG4gICAgICAgICAgICAgICAgbGV0IG5vZGUgPSBuZXcgbWFwTm9kZTtcclxuICAgICAgICAgICAgICAgIGxldCBzcCA9IG5ldyBTcE5vZGUobm9kZSlcclxuICAgICAgICAgICAgICAgIHRoaXMubWFwW2Ake2p9XyR7aX1gXSA9IHNwO1xyXG4gICAgICAgICAgICAgICAgc3AudGVycmFpbiA9IHRlcnJhaW5fdHlwZS53YXRlcjtcclxuICAgICAgICAgICAgICAgIHRoaXMuY29udGFpbmVyLmFkZENoaWxkKHNwKVxyXG4gICAgICAgICAgICAgICAgc3AueCA9IGogKiAxNVxyXG4gICAgICAgICAgICAgICAgc3AueSA9IGkgKiAxNVxyXG4gICAgICAgICAgICAgICAgbm9kZS54ID0galxyXG4gICAgICAgICAgICAgICAgbm9kZS55ID0gaVxyXG4gICAgICAgICAgICAgICAgbm9kZS53aWR0aCA9IDEwXHJcbiAgICAgICAgICAgICAgICBub2RlLmhlaWdodCA9IDEwXHJcbiAgICAgICAgICAgICAgICByb2wucHVzaChub2RlKVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIEFTdGFyLmlucy5pbml0KGFycik7XHJcbiAgICAgICAgdGhpcy5zdGFyQnRuLm9uKExheWEuRXZlbnQuQ0xJQ0ssdGhpcywoKT0+e1xyXG4gICAgICAgICAgICBzdGFydFBvaW50ID0gbnVsbFxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgdGhpcy5lbmRCdG4ub24oTGF5YS5FdmVudC5DTElDSyx0aGlzLCgpPT57XHJcbiAgICAgICAgICAgIGVuZFBvaW50ID0gbnVsbFxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgdGhpcy5zZWFyY2hCdG4ub24oTGF5YS5FdmVudC5DTElDSyx0aGlzLCgpPT57XHJcbiAgICAgICAgICAgIGxldCByZXMgPSBBU3Rhci5pbnMuZmluZFBhdGgoc3RhcnRQb2ludCxlbmRQb2ludCxtb3ZlX3R5cGUud2FsaylcclxuICAgICAgICAgICAgY29uc3QgZm4gPSAoKT0+e1xyXG4gICAgICAgICAgICAgICAgaWYoIXJlcy5sZW5ndGgpe1xyXG4gICAgICAgICAgICAgICAgICAgIExheWEudGltZXIuY2xlYXIodGhpcyxmbik7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgbGV0IG5vZGUgPSByZXMucG9wKClcclxuICAgICAgICAgICAgICAgIHRoaXMubWFwW2Ake25vZGUueH1fJHtub2RlLnl9YF0uZ3JhcGhpY3MuY2xlYXIoKVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIExheWEudGltZXIubG9vcCgzMDAsdGhpcyxmbilcclxuICAgICAgICB9KVxyXG4gICAgfVxyXG59XHJcblxyXG5jbGFzcyBtYXBOb2RlIGltcGxlbWVudHMgSU1hcE5vZGUge1xyXG4gICAgd2lkdGg6IG51bWJlclxyXG4gICAgaGVpZ2h0OiBudW1iZXJcclxuICAgIHg6IG51bWJlclxyXG4gICAgeTogbnVtYmVyXHJcbiAgICBjb3N0PzogbnVtYmVyXHJcbiAgICB0ZXJyYWluPzogdGVycmFpbl90eXBlXHJcbiAgICBmbGFnPzogbnVtYmVyXHJcbiAgICBwYXJlbnQ/OiBJTWFwTm9kZVxyXG4gICAgRz86IG51bWJlclxyXG4gICAgSD86IG51bWJlclxyXG4gICAgRj86IG51bWJlclxyXG59XHJcblxyXG5jbGFzcyBTcE5vZGUgZXh0ZW5kcyBMYXlhLkJveCB7XHJcbiAgICBjb25zdHJ1Y3RvcihwdWJsaWMgbm9kZTogSU1hcE5vZGUpIHtcclxuICAgICAgICBzdXBlcigpO1xyXG4gICAgICAgIHRoaXMud2lkdGggPSB0aGlzLmhlaWdodCA9IDEwXHJcbiAgICAgICAgdGhpcy5vbihMYXlhLkV2ZW50LlJJR0hUX0NMSUNLLHRoaXMsKCk9PntcclxuICAgICAgICAgICAgdGhpcy50ZXJyYWluID0gMztcclxuICAgICAgICB9KVxyXG4gICAgICAgIHRoaXMub24oTGF5YS5FdmVudC5DTElDSywgdGhpcywgKCkgPT4ge1xyXG4gICAgICAgICAgICBpZihzdGFydFBvaW50ID09PSBudWxsKXtcclxuICAgICAgICAgICAgICAgIHN0YXJ0UG9pbnQgPSB0aGlzLm5vZGVcclxuICAgICAgICAgICAgICAgIHRoaXMuZ3JhcGhpY3MuY2xlYXIoKVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYoZW5kUG9pbnQgPT09IG51bGwpe1xyXG4gICAgICAgICAgICAgICAgZW5kUG9pbnQgPSB0aGlzLm5vZGVcclxuICAgICAgICAgICAgICAgIHRoaXMuZ3JhcGhpY3MuY2xlYXIoKVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKHRoaXMuX3RlcnJhaW4gPj0gdGVycmFpbl90eXBlLnVud2Fsaykge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fdGVycmFpbiA9IDA7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl90ZXJyYWluKys7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy50ZXJyYWluID0gdGhpcy5fdGVycmFpbjtcclxuICAgICAgICB9KVxyXG4gICAgfVxyXG4gICAgX3RlcnJhaW46IHRlcnJhaW5fdHlwZTtcclxuICAgIHNldCB0ZXJyYWluKHR5cGU6IHRlcnJhaW5fdHlwZSkge1xyXG4gICAgICAgIHRoaXMuX3RlcnJhaW4gPSB0eXBlO1xyXG4gICAgICAgIHRoaXMubm9kZS50ZXJyYWluID0gdHlwZTtcclxuICAgICAgICBsZXQgY29sb3I6IHN0cmluZztcclxuICAgICAgICBzd2l0Y2ggKHR5cGUpIHtcclxuICAgICAgICAgICAgY2FzZSB0ZXJyYWluX3R5cGUud2F0ZXI6XHJcbiAgICAgICAgICAgICAgICBjb2xvciA9IFwiIzE2MjhlZlwiXHJcbiAgICAgICAgICAgICAgICBicmVha1xyXG4gICAgICAgICAgICBjYXNlIHRlcnJhaW5fdHlwZS5ub3JtYWw6XHJcbiAgICAgICAgICAgICAgICBjb2xvciA9IFwiIzdhODBjZFwiXHJcbiAgICAgICAgICAgICAgICBicmVha1xyXG4gICAgICAgICAgICBjYXNlIHRlcnJhaW5fdHlwZS5mbHk6XHJcbiAgICAgICAgICAgICAgICBjb2xvciA9IFwiI2MzN2FjZFwiXHJcbiAgICAgICAgICAgICAgICBicmVha1xyXG4gICAgICAgICAgICBjYXNlIHRlcnJhaW5fdHlwZS51bndhbGs6XHJcbiAgICAgICAgICAgICAgICBjb2xvciA9IFwiI2VlMGUzYlwiXHJcbiAgICAgICAgICAgICAgICBicmVha1xyXG4gICAgICAgIH1cclxuICAgICAgICBsZXQgcyA9IHRoaXMuZ3JhcGhpY3M7XHJcbiAgICAgICAgcy5jbGVhcigpXHJcbiAgICAgICAgcy5kcmF3Q2lyY2xlKDAsIDAsIDUsIGNvbG9yKVxyXG4gICAgfVxyXG59IiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgTWFwR3JpZCBleHRlbmRzIExheWEuSW1hZ2V7XHJcbiAgICByZWxlYXNlKCk6dm9pZHtcclxuICAgICAgICB0aGlzLnNraW4gPSBudWxsO1xyXG4gICAgICAgIHRoaXMucmVtb3ZlU2VsZigpO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IFNwcml0ZSA9IExheWEuU3ByaXRlO1xyXG5cclxuaW1wb3J0IEJveCA9IExheWEuQm94O1xyXG5pbXBvcnQgTWFwR3JpZCBmcm9tIFwiLi9NYXBHcmlkXCI7XHJcbmltcG9ydCBQb29sVXRpbCBmcm9tIFwiLi4vLi4vLi4vdXRpbHMvcG9vbC9Qb29sVXRpbFwiO1xyXG4vKipb6Lev5b6E77yM5rC05bmz5Liq5pWw77yM56uW55u05Liq5pWw77yM5qC85a2Q5aSn5bCPXSAqL1xyXG5jb25zdCBtYXBDZmcgPSB7XHJcbiAgICAxOiBbXCIuL2Fzc2V0L21hcC84MDAwMS9cIiwgOCwgNiwgMjU2XSxcclxufVxyXG4vKirlnLDlm77mmL7npLrlsYIgKi9cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTWFwU2NlbmUgZXh0ZW5kcyBTcHJpdGUge1xyXG4gICAgbWFwTGF5ZXI6IEJveDtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHN1cGVyKCk7XHJcbiAgICAgICAgdGhpcy5pbml0KCk7XHJcbiAgICB9XHJcbiAgICBwcml2YXRlIGluaXQoKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5hZGRDaGlsZCh0aGlzLm1hcExheWVyID0gbmV3IEJveCk7XHJcbiAgICAgICAgdGhpcy5tYXBMYXllci50b3AgPSB0aGlzLm1hcExheWVyLmxlZnQgPSB0aGlzLm1hcExheWVyLnJpZ2h0ID0gdGhpcy5tYXBMYXllci5ib3R0b20gPSAwXHJcbiAgICAgICAgdGhpcy5DaGFuZ2VNYXAoMSk7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIENoYW5nZU1hcChpZDogbnVtYmVyKTogdm9pZCB7XHJcbiAgICAgICAgbGV0IGNmZyA9IG1hcENmZ1tpZF07XHJcbiAgICAgICAgdGhpcy5yZWxlYXNlTWFwKCk7XHJcbiAgICAgICAgbGV0IG5vZGU6IE1hcEdyaWQ7XHJcbiAgICAgICAgbGV0IGluZGV4ID0gMTtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNmZ1syXTsgaSsrKSB7XHJcbiAgICAgICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgY2ZnWzFdOyBqKyspIHtcclxuICAgICAgICAgICAgICAgIG5vZGUgPSBQb29sVXRpbC5NYXBHcmlkLmNyZWF0ZShjZmdbMF0gKyBpbmRleCArIFwiLmpwZ1wiKTtcclxuICAgICAgICAgICAgICAgIGluZGV4Kys7XHJcbiAgICAgICAgICAgICAgICBub2RlLnkgPSBjZmdbM10gKiBpO1xyXG4gICAgICAgICAgICAgICAgbm9kZS54ID0gY2ZnWzNdICogajtcclxuICAgICAgICAgICAgICAgIHRoaXMubWFwTGF5ZXIuYWRkQ2hpbGQobm9kZSk7XHJcblxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMud2lkdGggPSBMYXlhLnN0YWdlLndpZHRoO1xyXG4gICAgICAgIHRoaXMuaGVpZ2h0ID0gTGF5YS5zdGFnZS5oZWlnaHQ7XHJcbiAgICB9XHJcblxyXG4gICAgXHJcblxyXG4gICAgcmVsZWFzZU1hcCgpOiB2b2lkIHtcclxuICAgICAgICBsZXQgbm9kZTogTWFwR3JpZDtcclxuICAgICAgICB3aGlsZSAodGhpcy5tYXBMYXllci5udW1DaGlsZHJlbikge1xyXG4gICAgICAgICAgICBub2RlID0gdGhpcy5nZXRDaGlsZEF0KDApIGFzIE1hcEdyaWQ7XHJcbiAgICAgICAgICAgIFBvb2xVdGlsLk1hcEdyaWQucmVsZWFzZShub2RlKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuXHJcbiIsImltcG9ydCB7IEFycmF5VXRpbHMgfSBmcm9tIFwiLi4vdXRpbHMvQXJyYXlVdGlsc1wiO1xyXG5pbXBvcnQgeyBNYXBTdHJ1Y3QgfSBmcm9tIFwiLi4vdXRpbHMvTWFwU3RydWN0XCI7XHJcblxyXG4vKipcclxuICog57qi54K5566h55CGXHJcbiAqIOWIhuemu+aYvuekuuWSjOaVsOaNru+8jOavj+S4quiKgueCuemDveacieS4gOS4queKtuaAge+8jOWPr+S7peaKiue6oueCueWunuS+i+S4juS7u+aEj+iKgueCuee7keWumi/op6Pnu5FcclxuICog6IqC54K55Y+v5Lul57uR5a6aaGFuZGxl5oiW6ICF6YCa6L+H5YWz57O75YW25LuW6IqC54K55a6e546w5pu05paw77yM5pu05paw5piv6Ieq5Yqo55qE77yM5ZCM5pe25aaC5p6c5pyJ57uR5a6a5a6e5L6L77yM5a6e5L6L55qE54q25oCB5Lmf5Lya6Ieq5Yqo5pu05pawXHJcbiAqIFxyXG4gKi9cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUmVkVGlwQmFzZSBleHRlbmRzIExheWEuRXZlbnREaXNwYXRjaGVyIHtcclxuICAgIHByaXZhdGUgdGVtcDogUmVkVGlwQmFzZTtcclxuICAgIHByaXZhdGUgdGVtcFRhcmdldDogc3RyaW5nW107XHJcbiAgICAvLyBwcml2YXRlIHRlbXBOYW1lOnN0cmluZztcclxuICAgIC8qKuWFs+W/g+WIl+ihqCAqL1xyXG4gICAgcHJpdmF0ZSBjYXJlTWFwOiBNYXBTdHJ1Y3Q8c3RyaW5nLCBbUmVkVGlwQmFzZSwgc3RyaW5nW11dW10+ID0gbmV3IE1hcFN0cnVjdDtcclxuICAgIC8qKue6oueCueeKtuaAgee8k+WtmCAqL1xyXG4gICAgcHJpdmF0ZSBzdGF0ZU1hcDogTWFwU3RydWN0PHN0cmluZywgYm9vbGVhbj4gPSBuZXcgTWFwU3RydWN0O1xyXG4gICAgLyoq57uR5a6a57qi54K55a6e5L6LICovXHJcbiAgICBwcml2YXRlIGJpbmRSZWRUaXA6IE1hcFN0cnVjdDxzdHJpbmcsIExheWEuU3ByaXRlW10+ID0gbmV3IE1hcFN0cnVjdDtcclxuICAgIC8qKuiKgueCueS4jmhhbmRsZeaYoOWwhCAqL1xyXG4gICAgcHJpdmF0ZSByZWdpc3Rlck1hcDogTWFwU3RydWN0PHN0cmluZywgW0Z1bmN0aW9uLCBhbnldPiA9IG5ldyBNYXBTdHJ1Y3Q7XHJcbiAgICBzdGF0aWMgZ2V0IGlucygpOiBSZWRUaXBCYXNlIHtcclxuICAgICAgICBsZXQgczogYW55ID0gdGhpcztcclxuICAgICAgICByZXR1cm4gc1tcIl9pbnNfXCJdIHx8IChzW1wiX2luc19cIl0gPSBuZXcgcyk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIF9pbml0KCk6dm9pZHtcclxuICAgICAgICB0aGlzLmluaXQoKTtcclxuICAgIH1cclxuXHJcbiAgICBwcm90ZWN0ZWQgaW5pdCgpOnZvaWR7XHJcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwi5ZyoaW5pdOaWueazleS4ree7keWumuinpuWPkeeCueaIluiAheWFs+ezu+iKgueCuVwiKVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog5rOo5YaM6IqC54K55pu05pawaGFuZGxlLOayoeazqOWGjOS5n+S4jeW9seWTje+8jOWPr+S7peWPquWFs+W/g+WFtuS7luiKgueCue+8jOiKgueCueeahOWIm+W7uuaYr+S7u+aEj+eahFxyXG4gICAgICogQHBhcmFtIG5hbWUgXHJcbiAgICAgKiBAcGFyYW0gY2FsbCBcclxuICAgICAqIEBwYXJhbSBjYWxsZXIgXHJcbiAgICAgKi9cclxuICAgIHJlZ2lzdGVyKG5hbWU6IHN0cmluZywgZm46ICgpID0+IGJvb2xlYW4sIGNhbGxlcjogYW55KSB7XHJcbiAgICAgICAgdGhpcy5yZWdpc3Rlck1hcC5zZXQobmFtZSwgW2ZuLCBjYWxsZXJdKTtcclxuICAgICAgICByZXR1cm4gdGhpcy5iaW5kSGFuZGxlLmJpbmQodGhpcyxuYW1lKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOe7keWumuWklumDqOinpuWPkeeCue+8jOavlOWmgua4uOaIj+aooeWdl+aVsOaNruWxguabtOaWsOaVsOaNru+8jOe7keWumue6oueCueinpuWPke+8jOWcqOiwg+eUqOWujHJlZ2lzdGVy5ZCO6Z2i55u05o6l6LCD55SoXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgYmluZEhhbmRsZShuYW1lOnN0cmluZyxldmVudE5hbWU6c3RyaW5nLGRpc3BhdGNoZXI6TGF5YS5FdmVudERpc3BhdGNoZXIpe1xyXG4gICAgICAgIGRpc3BhdGNoZXIub24oZXZlbnROYW1lLHRoaXMsdGhpcy5lbWl0LFtuYW1lXSk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuYmluZEhhbmRsZS5iaW5kKHRoaXMsbmFtZSk7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIC8qKlxyXG4gICAgICog57uR5a6a5YWz5b+D6IqC54K5XHJcbiAgICAgKiBAcGFyYW0gdCBcclxuICAgICAqIEByZXR1cm5zIFxyXG4gICAgICovXHJcbiAgICB0YWtlY2FyZSh0OiBSZWRUaXBCYXNlKSB7XHJcbiAgICAgICAgdGhpcy50ZW1wID0gdDtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICog57uR5a6a5pys57qi54K5566h55CG5Zmo55qE57qi54K56IqC54K5XHJcbiAgICAgKi9cclxuICAgIGJpbmROYW1lKC4uLmZsYWdzOiBzdHJpbmdbXSkge1xyXG4gICAgICAgIHRoaXMudGVtcFRhcmdldCA9IGZsYWdzO1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog5YWz5b+D6IqC54K555qE57qi54K56IqC54K55ZCNXHJcbiAgICAgKi9cclxuICAgIGNhcmUoLi4uZmxhZ3M6IHN0cmluZ1tdKSB7XHJcbiAgICAgICAgLy/kuLrlhbPns7voioLngrnmt7vliqDmlLnlj5jop6blj5FoYW5kbGVcclxuICAgICAgICBmb3IgKGxldCBmIG9mIGZsYWdzKSB7XHJcbiAgICAgICAgICAgIHRoaXMudGVtcC5vbihmLCB0aGlzLCB0aGlzLmNoaWxkcmVuQ2hhbmdlLCBbdGhpcy50ZW1wVGFyZ2V0XSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZvciAobGV0IGsgb2YgdGhpcy50ZW1wVGFyZ2V0KSB7XHJcbiAgICAgICAgICAgIGxldCBscyA9IHRoaXMuY2FyZU1hcC5nZXQoayk7XHJcbiAgICAgICAgICAgIGlmIChscykge1xyXG4gICAgICAgICAgICAgICAgbGV0IHRhcmdldCA9IEFycmF5VXRpbHMuZmluZChscywgKHYpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdlswXSA9PSB0aGlzLnRlbXA7XHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgaWYgKHRhcmdldCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRhcmdldFsxXSA9IEFycmF5VXRpbHMudW5pcXVlKHRhcmdldFsxXS5jb25jYXQoZmxhZ3MpKVxyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBscy5wdXNoKFt0aGlzLnRlbXAsIGZsYWdzXSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNhcmVNYXAuc2V0KGssIFtbdGhpcy50ZW1wLCBmbGFnc11dKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOinpuWPkee6oueCueiuoeeul1xyXG4gICAgICogQHBhcmFtIGZsYWcgXHJcbiAgICAgKi9cclxuICAgIGVtaXQoZmxhZzogc3RyaW5nKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5jaGFuZ2UoZmxhZyk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDkuLrnuqLngrnnu5HlrprmiafooYxoYW5kbGVcclxuICAgICAqIEBwYXJhbSBuYW1lIOe6oueCueWQjVxyXG4gICAgICogQHBhcmFtIHJlZFRpcCDnuqLngrnlrp7kvotcclxuICAgICAqL1xyXG4gICAgYmluZFJlZChuYW1lOiBzdHJpbmcsIHJlZFRpcDogTGF5YS5TcHJpdGUpOiB2b2lkIHtcclxuICAgICAgICBsZXQgbHMgPSB0aGlzLmJpbmRSZWRUaXAuZ2V0KG5hbWUpO1xyXG4gICAgICAgIGlmICghbHMpIHtcclxuICAgICAgICAgICAgdGhpcy5iaW5kUmVkVGlwLnNldChuYW1lLCBbcmVkVGlwXSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgaWYgKGxzLmluZGV4T2YocmVkVGlwKSA9PSAtMSkge1xyXG4gICAgICAgICAgICAgICAgbHMucHVzaChyZWRUaXApO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJlZFRpcC52aXNpYmxlID0gdGhpcy5nZXRTdGF0dXMobmFtZSk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDop6Pnu5HnuqLngrnvvIzlj6rmmK/op6Pnu5HnuqLngrnmmL7npLrvvIzmlbDmja7lsYLku43kvJrorqHnrpdcclxuICAgICAqIEBwYXJhbSBuYW1lIFxyXG4gICAgICogQHBhcmFtIHJlZFRpcCBcclxuICAgICAqL1xyXG4gICAgdW5CaW5kUmVkKG5hbWU6IHN0cmluZywgcmVkVGlwOiBMYXlhLlNwcml0ZSk6IHZvaWQge1xyXG4gICAgICAgIGxldCBscyA9IHRoaXMuYmluZFJlZFRpcC5nZXQobmFtZSk7XHJcbiAgICAgICAgaWYgKGxzKSB7XHJcbiAgICAgICAgICAgIGxzLnNwbGljZShscy5pbmRleE9mKHJlZFRpcCksIDEpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOiOt+WPlue6oueCueiKgueCueeKtuaAgVxyXG4gICAgICovXHJcbiAgICBnZXRTdGF0dXMoZmxhZzogc3RyaW5nKTogYm9vbGVhbiB7XHJcbiAgICAgICAgbGV0IHJlcyA9ICEhdGhpcy5zdGF0ZU1hcC5nZXQoZmxhZyk7XHJcbiAgICAgICAgaWYgKHJlcykgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgbGV0IG1hcCA9IHRoaXMuY2FyZU1hcC5nZXQoZmxhZyk7XHJcbiAgICAgICAgaWYgKG1hcCkge1xyXG4gICAgICAgICAgICBmb3IgKGxldCB0IG9mIG1hcCkge1xyXG4gICAgICAgICAgICAgICAgZm9yIChsZXQgayBvZiB0WzFdKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRbMF0uZ2V0U3RhdHVzKGspKSByZXR1cm4gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcblxyXG5cclxuXHJcbiAgICBwcml2YXRlIHNldFJlZFRpcChmbGFnOiBzdHJpbmcsIHN0YXRlOiBib29sZWFuKTogdm9pZCB7XHJcbiAgICAgICAgbGV0IGxzID0gdGhpcy5iaW5kUmVkVGlwLmdldChmbGFnKTtcclxuICAgICAgICBpZiAobHMpIHtcclxuICAgICAgICAgICAgZm9yIChsZXQgaSBvZiBscykge1xyXG4gICAgICAgICAgICAgICAgaS52aXNpYmxlID0gc3RhdGU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG5cclxuICAgIC8qKuWtkOiKgueCueeKtuaAgeaUueWPmO+8jOS4jeS8muinpuWPkeaWsOiuoeeul++8jOaLv+e8k+WtmCAqL1xyXG4gICAgcHJpdmF0ZSBjaGlsZHJlbkNoYW5nZSh0YXJnZXJGbGFnczogc3RyaW5nW10sIHN0YXR1czogYm9vbGVhbik6IHZvaWQge1xyXG4gICAgICAgIGxldCB2YWx1ZTogYm9vbGVhbiA9IHN0YXR1cztcclxuICAgICAgICBmb3IgKGxldCBrIG9mIHRhcmdlckZsYWdzKSB7XHJcbiAgICAgICAgICAgIHN0YXR1cyA9IHZhbHVlIHx8IHRoaXMuZ2V0U3RhdHVzKGspO1xyXG4gICAgICAgICAgICAvL+iuvue9rue6oueCueWunuS+i1xyXG4gICAgICAgICAgICB0aGlzLnNldFJlZFRpcChrLCBzdGF0dXMpO1xyXG4gICAgICAgICAgICAvL+mAmuefpeeItuiKgueCuVxyXG4gICAgICAgICAgICB0aGlzLmV2ZW50KGssIHZhbHVlKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoq5pys6IqC54K554q25oCB5pS55Y+YICovXHJcbiAgICBwcml2YXRlIGNoYW5nZShmbGFnOiBzdHJpbmcpOiB2b2lkIHtcclxuICAgICAgICBsZXQgc3RhdHVzID0gdGhpcy5jYWxjdWxhdGUoZmxhZyk7XHJcbiAgICAgICAgdGhpcy5zdGF0ZU1hcC5zZXQoZmxhZywgc3RhdHVzKTtcclxuICAgICAgICBzdGF0dXMgPSBzdGF0dXMgfHwgdGhpcy5nZXRTdGF0dXMoZmxhZylcclxuICAgICAgICAvL+abtOaWsOinhuWbvlxyXG4gICAgICAgIHRoaXMuc2V0UmVkVGlwKGZsYWcsIHN0YXR1cyk7XHJcbiAgICAgICAgLy/pgJrnn6XniLboioLngrlcclxuICAgICAgICB0aGlzLmV2ZW50KGZsYWcsIHN0YXR1cyk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoq6YeN5paw6K6h566XICovXHJcbiAgICBwcml2YXRlIGNhbGN1bGF0ZShmbGFnOiBzdHJpbmcpOiBib29sZWFuIHtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMucmVnaXN0ZXJNYXAuaGFzKGZsYWcpKSB7XHJcbiAgICAgICAgICAgIGxldCBbZm4sIGNhbGxlcl0gPSB0aGlzLnJlZ2lzdGVyTWFwLmdldChmbGFnKTtcclxuICAgICAgICAgICAgbGV0IHJlcyA9IGZuLmNhbGwoY2FsbGVyKTtcclxuICAgICAgICAgICAgLy8gdGhpcy5zdGF0ZU1hcC5zZXQoZmxhZywgcmVzKTtcclxuICAgICAgICAgICAgcmV0dXJuIHJlcztcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBjb25zb2xlLndhcm4oYOe6oueCuemSqeWtkCR7ZmxhZ33mnKrmt7vliqDlpITnkIblh73mlbBgKTtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufSIsImltcG9ydCBSZWRUaXBCYXNlIGZyb20gXCIuL1JlZFRpcEJhc2VcIjtcclxuaW1wb3J0IHtyZWQxLHJlZDJ9IGZyb20gXCIuL1JlZFRpcFRlc3RcIlxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBSZWRUaXBNZ3J7XHJcbiAgICBwcml2YXRlIHJlZEFycmF5OlJlZFRpcEJhc2VbXSA9IFtdXHJcbiAgICBjb25zdHJ1Y3Rvcigpe1xyXG4gICAgICAgIHRoaXMuaW5pdCgpO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgaW5pdCgpOnZvaWR7XHJcbiAgICAgICAgdGhpcy5yZWdpc3RlcigpO1xyXG4gICAgICAgIGZvcihsZXQgaSBvZiB0aGlzLnJlZEFycmF5KXtcclxuICAgICAgICAgICAgaS5faW5pdCgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHJlZ2lzdGVyKCk6dm9pZHtcclxuICAgICAgICB0aGlzLnJlZEFycmF5ID0gW1xyXG4gICAgICAgICAgICByZWQxLmlucyxcclxuICAgICAgICAgICAgcmVkMi5pbnMsXHJcbiAgICAgICAgXVxyXG5cclxuICAgIH1cclxufSIsIlxyXG5pbXBvcnQgeyB1aSB9IGZyb20gXCIuLi91aS9sYXlhTWF4VUlcIjtcclxuaW1wb3J0IElWaWV3IGZyb20gXCIuLi92aWV3L2Jhc2UvSVZpZXdcIjtcclxuaW1wb3J0IFJlZFRpcEJhc2UgZnJvbSBcIi4vUmVkVGlwQmFzZVwiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUmVkVGlwVGVzdCBleHRlbmRzIHVpLnRlc3QuVmlld1Rlc3RVSSBpbXBsZW1lbnRzIElWaWV3e1xyXG4gICAgY29uc3RydWN0b3IoKXtcclxuICAgICAgICBzdXBlcigpO1xyXG4gICAgICAgIHRoaXMubG9vcCgpXHJcbiAgICB9XHJcblxyXG4gICAgb3BlbigpOnZvaWR7XHJcbiAgICAgICAgbGV0IGltZyA9IG5ldyBMYXlhLkltYWdlO1xyXG4gICAgICAgIGltZy5za2luID0gXCJjb21wL2ltYWdlLnBuZ1wiXHJcbiAgICAgICAgdGhpcy5hZGRDaGlsZChpbWcpXHJcbiAgICB9XHJcblxyXG5cclxuICAgIGNyZWF0ZVZpZXcodmlldzphbnkpe1xyXG4gICAgICAgIHN1cGVyLmNyZWF0ZVZpZXcodmlldylcclxuICAgICAgICByZWQxLmlucy5iaW5kUmVkKFwiQTFcIix0aGlzLkExKVxyXG4gICAgICAgIHJlZDEuaW5zLmJpbmRSZWQoXCJBMlwiLHRoaXMuQTIpXHJcbiAgICAgICAgcmVkMS5pbnMuYmluZFJlZChcIkEzXCIsdGhpcy5BMylcclxuICAgICAgICByZWQyLmlucy5iaW5kUmVkKFwiQjFcIix0aGlzLkIxKVxyXG4gICAgICAgIHJlZDIuaW5zLmJpbmRSZWQoXCJCMlwiLHRoaXMuQjIpXHJcbiAgICB9XHJcblxyXG4gICAgbG9vcCgpe1xyXG5cclxuICAgICAgICBMYXlhLnRpbWVyLmxvb3AoNTAwLHRoaXMsKCkgPT4ge1xyXG4gICAgICAgICAgICAvLyByZWQxLmlucy5lbWl0KFwiQTJcIilcclxuICAgICAgICAgICAgLy8gcmVkMS5pbnMuZW1pdChcIkExXCIpXHJcbiAgICAgICAgICAgIC8vIHJlZDEuaW5zLmVtaXQoXCJBM1wiKVxyXG4gICAgICAgICAgICAvLyByZWQyLmlucy5lbWl0KFwiQjFcIilcclxuICAgICAgICAgICAgLy8gcmVkMi5pbnMuZW1pdChcIkIyXCIpXHJcbiAgICAgICAgICAgIFRlc3RNRGwuaW5zLmV2ZW50KFwiVVBEQVRFX0lORk9cIilcclxuICAgICAgICAgICAgVGVzdE1EbC5pbnMuZXZlbnQoXCJVUERBVEVfTFZcIilcclxuICAgICAgICB9KVxyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgcmVkMSBleHRlbmRzIFJlZFRpcEJhc2V7XHJcbiAgICBjb25zdHJ1Y3Rvcigpe1xyXG4gICAgICAgIHN1cGVyKClcclxuICAgIH1cclxuXHJcbiAgICBpbml0KCk6dm9pZHtcclxuICAgICAgICAvL+e7keWummhhbmRsZe+8jOinpuWPkeeCuVxyXG4gICAgICAgIHRoaXMucmVnaXN0ZXIoXCJBMlwiLHRoaXMuQTIsdGhpcykoXCJVUERBVEVfSU5GT1wiLFRlc3RNRGwuaW5zKShcIlVQREFURV9MVlwiLFRlc3RNRGwuaW5zKVxyXG4gICAgICAgIHRoaXMucmVnaXN0ZXIoXCJBM1wiLHRoaXMuQTMsdGhpcykoXCJVUERBVEVfTFZcIixUZXN0TURsLmlucylcclxuICAgICAgICAvL+aehOW7uuWFs+W/g+WIl+ihqFxyXG4gICAgICAgIHRoaXMudGFrZWNhcmUocmVkMi5pbnMpLmJpbmROYW1lKFwiQTJcIikuY2FyZShcIkIxXCIsXCJCMlwiKVxyXG4gICAgICAgIHRoaXMudGFrZWNhcmUocmVkMi5pbnMpLmJpbmROYW1lKFwiQTFcIikuY2FyZShcIkIxXCIsXCJCMlwiKVxyXG4gICAgfVxyXG4gICAgQTEoKXtcclxuICAgICAgICBsZXQgYSA9IDA7XHJcbiAgICAgICAgZm9yKGxldCBpID0gMDtpIDwgMTAwMDA7aSsrKXtcclxuICAgICAgICAgICAgYSsrO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gTWF0aC5yYW5kb20oKSA+IDAuNTtcclxuICAgIH1cclxuXHJcbiAgICBBMigpe1xyXG4gICAgICAgIGxldCBhID0gMDtcclxuICAgICAgICBmb3IobGV0IGkgPSAwO2kgPCAxMDAwMDtpKyspe1xyXG4gICAgICAgICAgICBhKys7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBNYXRoLnJhbmRvbSgpID4gMC41O1xyXG4gICAgfVxyXG5cclxuICAgIEEzKCl7XHJcbiAgICAgICAgbGV0IGEgPSAwO1xyXG4gICAgICAgIGZvcihsZXQgaSA9IDA7aSA8IDEwMDAwO2krKyl7XHJcbiAgICAgICAgICAgIGErKztcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIE1hdGgucmFuZG9tKCkgPiAwLjU7XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyByZWQyIGV4dGVuZHMgUmVkVGlwQmFzZXtcclxuICAgIGNvbnN0cnVjdG9yKCl7XHJcbiAgICAgICAgc3VwZXIoKVxyXG5cclxuICAgIH1cclxuICAgIGluaXQoKXtcclxuICAgICAgICB0aGlzLnJlZ2lzdGVyKFwiQjFcIix0aGlzLkIxLHRoaXMpKFwiVVBEQVRFX0xWXCIsVGVzdE1EbC5pbnMpXHJcbiAgICAgICAgdGhpcy5yZWdpc3RlcihcIkIyXCIsdGhpcy5CMix0aGlzKShcIlVQREFURV9JTkZPXCIsVGVzdE1EbC5pbnMpXHJcbiAgICB9XHJcbiAgICBCMSgpe1xyXG4gICAgICAgIGxldCBhID0gMDtcclxuICAgICAgICBmb3IobGV0IGkgPSAwO2kgPCAxMDAwMDtpKyspe1xyXG4gICAgICAgICAgICBhKys7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBNYXRoLnJhbmRvbSgpID4gMC41O1xyXG4gICAgfVxyXG4gICAgQjIoKXtcclxuICAgICAgICBsZXQgYSA9IDA7XHJcbiAgICAgICAgZm9yKGxldCBpID0gMDtpIDwgMTAwMDA7aSsrKXtcclxuICAgICAgICAgICAgYSsrO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gTWF0aC5yYW5kb20oKSA+IDAuNTtcclxuICAgIH1cclxufVxyXG5cclxuY2xhc3MgVGVzdE1EbCBleHRlbmRzIExheWEuRXZlbnREaXNwYXRjaGVye1xyXG4gICAgc3RhdGljIGdldCBpbnMoKTpUZXN0TURse1xyXG4gICAgICAgIHJldHVybiBUZXN0TURsW1wiX2luc1wiXSB8fCAoVGVzdE1EbFtcIl9pbnNcIl0gPSBuZXcgVGVzdE1EbClcclxuICAgIH1cclxufVxyXG5cclxuXHJcblxyXG5cclxuIiwiLyoqXHJcbiAqIOWtkOW8ueiEmuacrO+8jOWunueOsOWtkOW8uemjnuihjOmAu+i+keWPiuWvueixoeaxoOWbnuaUtuacuuWItlxyXG4gKi9cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQnVsbGV0IGV4dGVuZHMgTGF5YS5TY3JpcHQge1xyXG4gICAgY29uc3RydWN0b3IoKSB7IHN1cGVyKCk7IH1cclxuXHJcbiAgICBvbkVuYWJsZSgpOiB2b2lkIHtcclxuICAgICAgICAvL+iuvue9ruWIneWni+mAn+W6plxyXG4gICAgICAgIHZhciByaWc6IExheWEuUmlnaWRCb2R5ID0gdGhpcy5vd25lci5nZXRDb21wb25lbnQoTGF5YS5SaWdpZEJvZHkpO1xyXG4gICAgICAgIHJpZy5zZXRWZWxvY2l0eSh7IHg6IDAsIHk6IC0xMCB9KTtcclxuICAgIH1cclxuXHJcbiAgICBvblRyaWdnZXJFbnRlcihvdGhlcjogYW55LCBzZWxmOiBhbnksIGNvbnRhY3Q6IGFueSk6IHZvaWQge1xyXG4gICAgICAgIC8v5aaC5p6c6KKr56Kw5Yiw77yM5YiZ56e76Zmk5a2Q5by5XHJcbiAgICAgICAgdGhpcy5vd25lci5yZW1vdmVTZWxmKCk7XHJcbiAgICB9XHJcblxyXG4gICAgb25VcGRhdGUoKTogdm9pZCB7XHJcbiAgICAgICAgLy/lpoLmnpzlrZDlvLnotoXlh7rlsY/luZXvvIzliJnnp7vpmaTlrZDlvLlcclxuICAgICAgICBpZiAoKHRoaXMub3duZXIgYXMgTGF5YS5TcHJpdGUpLnkgPCAtMTApIHtcclxuICAgICAgICAgICAgdGhpcy5vd25lci5yZW1vdmVTZWxmKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIG9uRGlzYWJsZSgpOiB2b2lkIHtcclxuICAgICAgICAvL+WtkOW8ueiiq+enu+mZpOaXtu+8jOWbnuaUtuWtkOW8ueWIsOWvueixoeaxoO+8jOaWueS+v+S4i+asoeWkjeeUqO+8jOWHj+WwkeWvueixoeWIm+W7uuW8gOmUgFxyXG4gICAgICAgIExheWEuUG9vbC5yZWNvdmVyKFwiYnVsbGV0XCIsIHRoaXMub3duZXIpO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IEdhbWVVSSBmcm9tIFwiLi9HYW1lVUlcIjtcclxuLyoqXHJcbiAqIOaOieiQveebkuWtkOiEmuacrO+8jOWunueOsOebkuWtkOeisOaSnuWPiuWbnuaUtua1geeoi1xyXG4gKi9cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRHJvcEJveCBleHRlbmRzIExheWEuU2NyaXB0IHtcclxuICAgIC8qKuebkuWtkOetiee6pyAqL1xyXG4gICAgbGV2ZWw6IG51bWJlciA9IDE7XHJcbiAgICAvKirnrYnnuqfmlofmnKzlr7nosaHlvJXnlKggKi9cclxuICAgIHByaXZhdGUgX3RleHQ6IExheWEuVGV4dDtcclxuICAgIC8qKuWImuS9k+WvueixoeW8leeUqCAqL1xyXG4gICAgcHJpdmF0ZSBfcmlnOiBMYXlhLlJpZ2lkQm9keVxyXG5cclxuICAgIGNvbnN0cnVjdG9yKCkgeyBzdXBlcigpOyB9XHJcbiAgICBvbkVuYWJsZSgpOiB2b2lkIHtcclxuICAgICAgICAvKirojrflvpfnu4Tku7blvJXnlKjvvIzpgb/lhY3mr4/mrKHojrflj5bnu4Tku7bluKbmnaXkuI3lv4XopoHnmoTmn6Xor6LlvIDplIAgKi9cclxuICAgICAgICB0aGlzLl9yaWcgPSB0aGlzLm93bmVyLmdldENvbXBvbmVudChMYXlhLlJpZ2lkQm9keSk7XHJcbiAgICAgICAgdGhpcy5sZXZlbCA9IE1hdGgucm91bmQoTWF0aC5yYW5kb20oKSAqIDUpICsgMTtcclxuICAgICAgICB0aGlzLl90ZXh0ID0gdGhpcy5vd25lci5nZXRDaGlsZEJ5TmFtZShcImxldmVsVHh0XCIpIGFzIExheWEuVGV4dDtcclxuICAgICAgICB0aGlzLl90ZXh0LnRleHQgPSB0aGlzLmxldmVsICsgXCJcIjtcclxuICAgIH1cclxuXHJcbiAgICBvblVwZGF0ZSgpOiB2b2lkIHtcclxuICAgICAgICAvL+iuqeaMgee7reebkuWtkOaXi+i9rFxyXG4gICAgICAgICh0aGlzLm93bmVyIGFzIExheWEuU3ByaXRlKS5yb3RhdGlvbisrO1xyXG4gICAgfVxyXG5cclxuICAgIG9uVHJpZ2dlckVudGVyKG90aGVyOiBhbnksIHNlbGY6IGFueSwgY29udGFjdDogYW55KTogdm9pZCB7XHJcbiAgICAgICAgdmFyIG93bmVyOiBMYXlhLlNwcml0ZSA9IHRoaXMub3duZXIgYXMgTGF5YS5TcHJpdGU7XHJcbiAgICAgICAgaWYgKG90aGVyLmxhYmVsID09PSBcImJ1dHRsZVwiKSB7XHJcbiAgICAgICAgICAgIC8v56Kw5pKe5Yiw5a2Q5by55ZCO77yM5aKe5Yqg56ev5YiG77yM5pKt5pS+5aOw6Z+z54m55pWIXHJcbiAgICAgICAgICAgIGlmICh0aGlzLmxldmVsID4gMSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5sZXZlbC0tO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fdGV4dC5jaGFuZ2VUZXh0KHRoaXMubGV2ZWwgKyBcIlwiKTtcclxuICAgICAgICAgICAgICAgIG93bmVyLmdldENvbXBvbmVudChMYXlhLlJpZ2lkQm9keSkuc2V0VmVsb2NpdHkoeyB4OiAwLCB5OiAtMTAgfSk7XHJcbiAgICAgICAgICAgICAgICBMYXlhLlNvdW5kTWFuYWdlci5wbGF5U291bmQoXCJzb3VuZC9oaXQud2F2XCIpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgaWYgKG93bmVyLnBhcmVudCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBlZmZlY3Q6IExheWEuQW5pbWF0aW9uID0gTGF5YS5Qb29sLmdldEl0ZW1CeUNyZWF0ZUZ1bihcImVmZmVjdFwiLCB0aGlzLmNyZWF0ZUVmZmVjdCwgdGhpcyk7XHJcbiAgICAgICAgICAgICAgICAgICAgZWZmZWN0LnBvcyhvd25lci54LCBvd25lci55KTtcclxuICAgICAgICAgICAgICAgICAgICBvd25lci5wYXJlbnQuYWRkQ2hpbGQoZWZmZWN0KTtcclxuICAgICAgICAgICAgICAgICAgICBlZmZlY3QucGxheSgwLCB0cnVlKTtcclxuICAgICAgICAgICAgICAgICAgICBvd25lci5yZW1vdmVTZWxmKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgTGF5YS5Tb3VuZE1hbmFnZXIucGxheVNvdW5kKFwic291bmQvZGVzdHJveS53YXZcIik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgR2FtZVVJLmluc3RhbmNlLmFkZFNjb3JlKDEpO1xyXG4gICAgICAgIH0gZWxzZSBpZiAob3RoZXIubGFiZWwgPT09IFwiZ3JvdW5kXCIpIHtcclxuICAgICAgICAgICAgLy/lj6ropoHmnInkuIDkuKrnm5LlrZDnorDliLDlnLDmnb/vvIzliJnlgZzmraLmuLjmiI9cclxuICAgICAgICAgICAgb3duZXIucmVtb3ZlU2VsZigpO1xyXG4gICAgICAgICAgICBHYW1lVUkuaW5zdGFuY2Uuc3RvcEdhbWUoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoq5L2/55So5a+56LGh5rGg5Yib5bu654iG54K45Yqo55S7ICovXHJcbiAgICBjcmVhdGVFZmZlY3QoKTogTGF5YS5BbmltYXRpb24ge1xyXG4gICAgICAgIGxldCBhbmk6IExheWEuQW5pbWF0aW9uID0gbmV3IExheWEuQW5pbWF0aW9uKCk7XHJcbiAgICAgICAgYW5pLmxvYWRBbmltYXRpb24oXCJ0ZXN0L1Rlc3RBbmkuYW5pXCIpO1xyXG4gICAgICAgIGFuaS5vbihMYXlhLkV2ZW50LkNPTVBMRVRFLCBudWxsLCByZWNvdmVyKTtcclxuICAgICAgICBmdW5jdGlvbiByZWNvdmVyKCk6IHZvaWQge1xyXG4gICAgICAgICAgICBhbmkucmVtb3ZlU2VsZigpO1xyXG4gICAgICAgICAgICBMYXlhLlBvb2wucmVjb3ZlcihcImVmZmVjdFwiLCBhbmkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gYW5pO1xyXG4gICAgfVxyXG5cclxuICAgIG9uRGlzYWJsZSgpOiB2b2lkIHtcclxuICAgICAgICAvL+ebkuWtkOiiq+enu+mZpOaXtu+8jOWbnuaUtuebkuWtkOWIsOWvueixoeaxoO+8jOaWueS+v+S4i+asoeWkjeeUqO+8jOWHj+WwkeWvueixoeWIm+W7uuW8gOmUgOOAglxyXG4gICAgICAgIExheWEuUG9vbC5yZWNvdmVyKFwiZHJvcEJveFwiLCB0aGlzLm93bmVyKTtcclxuICAgIH1cclxufSIsIlxyXG5pbXBvcnQgRHJvcEJveCBmcm9tIFwiLi9Ecm9wQm94XCI7XHJcbmltcG9ydCBCdWxsZXQgZnJvbSBcIi4vQnVsbGV0XCI7XHJcbi8qKlxyXG4gKiDmuLjmiI/mjqfliLbohJrmnKzjgILlrprkuYnkuoblh6DkuKpkcm9wQm9477yMYnVsbGV077yMY3JlYXRlQm94SW50ZXJ2YWznrYnlj5jph4/vvIzog73lpJ/lnKhJREXmmL7npLrlj4rorr7nva7or6Xlj5jph49cclxuICog5pu05aSa57G75Z6L5a6a5LmJ77yM6K+35Y+C6ICD5a6Y5pa55paH5qGjXHJcbiAqL1xyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBHYW1lQ29udHJvbCBleHRlbmRzIExheWEuU2NyaXB0IHtcclxuICAgIC8qKiBAcHJvcCB7bmFtZTpkcm9wQm94LHRpcHM6XCLmjonokL3lrrnlmajpooTliLbkvZPlr7nosaFcIix0eXBlOlByZWZhYn0qL1xyXG4gICAgZHJvcEJveDogTGF5YS5QcmVmYWI7XHJcbiAgICAvKiogQHByb3Age25hbWU6YnVsbGV0LHRpcHM6XCLlrZDlvLnpooTliLbkvZPlr7nosaFcIix0eXBlOlByZWZhYn0qL1xyXG4gICAgYnVsbGV0OiBMYXlhLlByZWZhYjtcclxuICAgIC8qKiBAcHJvcCB7bmFtZTpjcmVhdGVCb3hJbnRlcnZhbCx0aXBzOlwi6Ze06ZqU5aSa5bCR5q+r56eS5Yib5bu65LiA5Liq5LiL6LeM55qE5a655ZmoXCIsdHlwZTppbnQsZGVmYXVsdDoxMDAwfSovXHJcbiAgICBjcmVhdGVCb3hJbnRlcnZhbDogbnVtYmVyID0gMTAwMDtcclxuICAgIC8qKuW8gOWni+aXtumXtCovXHJcbiAgICBwcml2YXRlIF90aW1lOiBudW1iZXIgPSAwO1xyXG4gICAgLyoq5piv5ZCm5bey57uP5byA5aeL5ri45oiPICovXHJcbiAgICBwcml2YXRlIF9zdGFydGVkOiBib29sZWFuID0gZmFsc2U7XHJcbiAgICAvKirlrZDlvLnlkoznm5LlrZDmiYDlnKjnmoTlrrnlmajlr7nosaEgKi9cclxuICAgIHByaXZhdGUgX2dhbWVCb3g6IExheWEuU3ByaXRlO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKCkgeyBzdXBlcigpOyB9XHJcblxyXG4gICAgb25FbmFibGUoKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5fdGltZSA9IERhdGUubm93KCk7XHJcbiAgICAgICAgdGhpcy5fZ2FtZUJveCA9IHRoaXMub3duZXIuZ2V0Q2hpbGRCeU5hbWUoXCJnYW1lQm94XCIpIGFzIExheWEuU3ByaXRlO1xyXG4gICAgICAgIHRoaXMuY3JlYXRlQm94KCk7XHJcbiAgICB9XHJcblxyXG4gICAgb25VcGRhdGUoKTogdm9pZCB7XHJcbiAgICAgICAgLy/mr4/pl7TpmpTkuIDmrrXml7bpl7TliJvlu7rkuIDkuKrnm5LlrZBcclxuICAgICAgICBsZXQgbm93ID0gRGF0ZS5ub3coKTtcclxuICAgICAgICBpZiAobm93IC0gdGhpcy5fdGltZSA+IHRoaXMuY3JlYXRlQm94SW50ZXJ2YWwpIHtcclxuICAgICAgICAgICAgdGhpcy5fdGltZSA9IG5vdztcclxuICAgICAgICAgICAgdGhpcy5jcmVhdGVCb3goKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgY3JlYXRlQm94KCk6IHZvaWQge1xyXG4gICAgICAgIC8v5L2/55So5a+56LGh5rGg5Yib5bu655uS5a2QXHJcbiAgICAgICAgbGV0IGJveDogTGF5YS5TcHJpdGUgPSBMYXlhLlBvb2wuZ2V0SXRlbUJ5Q3JlYXRlRnVuKFwiZHJvcEJveFwiLCB0aGlzLmRyb3BCb3guY3JlYXRlLCB0aGlzLmRyb3BCb3gpO1xyXG4gICAgICAgIGJveC5wb3MoTWF0aC5yYW5kb20oKSAqIChMYXlhLnN0YWdlLndpZHRoIC0gMTAwKSwgLTEwMCk7XHJcbiAgICAgICAgdGhpcy5fZ2FtZUJveC5hZGRDaGlsZChib3gpO1xyXG4gICAgfVxyXG5cclxuICAgIG9uU3RhZ2VDbGljayhlOiBMYXlhLkV2ZW50KTogdm9pZCB7XHJcbiAgICAgICAgLy/lgZzmraLkuovku7blhpLms6HvvIzmj5Dpq5jmgKfog73vvIzlvZPnhLbkuZ/lj6/ku6XkuI3opoFcclxuICAgICAgICAvLyBlLnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgICAgIC8v6Iie5Y+w6KKr54K55Ye75ZCO77yM5L2/55So5a+56LGh5rGg5Yib5bu65a2Q5by5XHJcbiAgICAgICAgbGV0IGZseWVyOiBMYXlhLlNwcml0ZSA9IExheWEuUG9vbC5nZXRJdGVtQnlDcmVhdGVGdW4oXCJidWxsZXRcIiwgdGhpcy5idWxsZXQuY3JlYXRlLCB0aGlzLmJ1bGxldCk7XHJcbiAgICAgICAgZmx5ZXIucG9zKExheWEuc3RhZ2UubW91c2VYLCBMYXlhLnN0YWdlLm1vdXNlWSk7XHJcbiAgICAgICAgdGhpcy5fZ2FtZUJveC5hZGRDaGlsZChmbHllcik7XHJcbiAgICAgICAgY29uc29sZS5sb2coXCJjbGlja1wiKVxyXG4gICAgfVxyXG5cclxuICAgIC8qKuW8gOWni+a4uOaIj++8jOmAmui/h+a/gOa0u+acrOiEmuacrOaWueW8j+W8gOWni+a4uOaIjyovXHJcbiAgICBzdGFydEdhbWUoKTogdm9pZCB7XHJcbiAgICAgICAgaWYgKCF0aGlzLl9zdGFydGVkKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX3N0YXJ0ZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICB0aGlzLmVuYWJsZWQgPSB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKirnu5PmnZ/muLjmiI/vvIzpgJrov4fpnZ7mv4DmtLvmnKzohJrmnKzlgZzmraLmuLjmiI8gKi9cclxuICAgIHN0b3BHYW1lKCk6IHZvaWQge1xyXG4gICAgICAgIHRoaXMuX3N0YXJ0ZWQgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLmVuYWJsZWQgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLmNyZWF0ZUJveEludGVydmFsID0gMTAwMDtcclxuICAgICAgICB0aGlzLl9nYW1lQm94LnJlbW92ZUNoaWxkcmVuKCk7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgeyB1aSB9IGZyb20gXCIuLy4uL3VpL2xheWFNYXhVSVwiO1xyXG5pbXBvcnQgR2FtZUNvbnRyb2wgZnJvbSBcIi4vR2FtZUNvbnRyb2xcIlxyXG4vKipcclxuICog5pys56S65L6L6YeH55So6Z2e6ISa5pys55qE5pa55byP5a6e546w77yM6ICM5L2/55So57un5om/6aG16Z2i5Z+657G777yM5a6e546w6aG16Z2i6YC76L6R44CC5ZyoSURF6YeM6Z2i6K6+572u5Zy65pmv55qEUnVudGltZeWxnuaAp+WNs+WPr+WSjOWcuuaZr+i/m+ihjOWFs+iBlFxyXG4gKiDnm7jmr5TohJrmnKzmlrnlvI/vvIznu6fmib/lvI/pobXpnaLnsbvvvIzlj6/ku6Xnm7TmjqXkvb/nlKjpobXpnaLlrprkuYnnmoTlsZ7mgKfvvIjpgJrov4dJREXlhoV2YXLlsZ7mgKflrprkuYnvvInvvIzmr5TlpoJ0aGlzLnRpcExibGzvvIx0aGlzLnNjb3JlTGJs77yM5YW35pyJ5Luj56CB5o+Q56S65pWI5p6cXHJcbiAqIOW7uuiuru+8muWmguaenOaYr+mhtemdoue6p+eahOmAu+i+ke+8jOmcgOimgemikee5geiuv+mXrumhtemdouWGheWkmuS4quWFg+e0oO+8jOS9v+eUqOe7p+aJv+W8j+WGmeazle+8jOWmguaenOaYr+eLrOeri+Wwj+aooeWdl++8jOWKn+iDveWNleS4gO+8jOW7uuiurueUqOiEmuacrOaWueW8j+WunueOsO+8jOavlOWmguWtkOW8ueiEmuacrOOAglxyXG4gKi9cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgR2FtZVVJIGV4dGVuZHMgdWkudGVzdC5UZXN0U2NlbmVVSSB7XHJcbiAgICAvKirorr7nva7ljZXkvovnmoTlvJXnlKjmlrnlvI/vvIzmlrnkvr/lhbbku5bnsbvlvJXnlKggKi9cclxuICAgIHN0YXRpYyBpbnN0YW5jZTogR2FtZVVJO1xyXG4gICAgLyoq5b2T5YmN5ri45oiP56ev5YiG5a2X5q61ICovXHJcbiAgICBwcml2YXRlIF9zY29yZTogbnVtYmVyO1xyXG4gICAgLyoq5ri45oiP5o6n5Yi26ISa5pys5byV55So77yM6YG/5YWN5q+P5qyh6I635Y+W57uE5Lu25bim5p2l5LiN5b+F6KaB55qE5oCn6IO95byA6ZSAICovXHJcbiAgICBwcml2YXRlIF9jb250cm9sOiBHYW1lQ29udHJvbDtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBzdXBlcigpO1xyXG4gICAgICAgIEdhbWVVSS5pbnN0YW5jZSA9IHRoaXM7XHJcbiAgICAgICAgLy/lhbPpl63lpJrngrnop6bmjqfvvIzlkKbliJnlsLHml6DmlYzkuoZcclxuICAgICAgICBMYXlhLk1vdXNlTWFuYWdlci5tdWx0aVRvdWNoRW5hYmxlZCA9IGZhbHNlO1xyXG4gICAgfVxyXG5cclxuICAgIG9uRW5hYmxlKCk6IHZvaWQge1xyXG4gICAgICAgIHRoaXMuX2NvbnRyb2wgPSB0aGlzLmdldENvbXBvbmVudChHYW1lQ29udHJvbCk7XHJcbiAgICAgICAgLy/ngrnlh7vmj5DnpLrmloflrZfvvIzlvIDlp4vmuLjmiI9cclxuICAgICAgICB0aGlzLnRpcExibGwub24oTGF5YS5FdmVudC5DTElDSywgdGhpcywgdGhpcy5vblRpcENsaWNrKTtcclxuICAgIH1cclxuXHJcbiAgICBvblRpcENsaWNrKGU6IExheWEuRXZlbnQpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLnRpcExibGwudmlzaWJsZSA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuX3Njb3JlID0gMDtcclxuICAgICAgICB0aGlzLnNjb3JlTGJsLnRleHQgPSBcIlwiO1xyXG4gICAgICAgIHRoaXMuX2NvbnRyb2wuc3RhcnRHYW1lKCk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoq5aKe5Yqg5YiG5pWwICovXHJcbiAgICBhZGRTY29yZSh2YWx1ZTogbnVtYmVyID0gMSk6IHZvaWQge1xyXG4gICAgICAgIHRoaXMuX3Njb3JlICs9IHZhbHVlO1xyXG4gICAgICAgIHRoaXMuc2NvcmVMYmwuY2hhbmdlVGV4dChcIuWIhuaVsO+8mlwiICsgdGhpcy5fc2NvcmUpO1xyXG4gICAgICAgIC8v6ZqP552A5YiG5pWw6LaK6auY77yM6Zq+5bqm5aKe5aSnXHJcbiAgICAgICAgaWYgKHRoaXMuX2NvbnRyb2wuY3JlYXRlQm94SW50ZXJ2YWwgPiA2MDAgJiYgdGhpcy5fc2NvcmUgJSAyMCA9PSAwKSB0aGlzLl9jb250cm9sLmNyZWF0ZUJveEludGVydmFsIC09IDIwO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKuWBnOatoua4uOaIjyAqL1xyXG4gICAgc3RvcEdhbWUoKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy50aXBMYmxsLnZpc2libGUgPSB0cnVlO1xyXG4gICAgICAgIHRoaXMudGlwTGJsbC50ZXh0ID0gXCLmuLjmiI/nu5PmnZ/kuobvvIzngrnlh7vlsY/luZXph43mlrDlvIDlp4tcIjtcclxuICAgICAgICB0aGlzLl9jb250cm9sLnN0b3BHYW1lKCk7XHJcbiAgICB9XHJcbn0iLCIvKipUaGlzIGNsYXNzIGlzIGF1dG9tYXRpY2FsbHkgZ2VuZXJhdGVkIGJ5IExheWFBaXJJREUsIHBsZWFzZSBkbyBub3QgbWFrZSBhbnkgbW9kaWZpY2F0aW9ucy4gKi9cbmltcG9ydCBWaWV3PUxheWEuVmlldztcclxuaW1wb3J0IERpYWxvZz1MYXlhLkRpYWxvZztcclxuaW1wb3J0IFNjZW5lPUxheWEuU2NlbmU7XG5leHBvcnQgbW9kdWxlIHVpLnRlc3Qge1xyXG4gICAgZXhwb3J0IGNsYXNzIEFzdGFyVUkgZXh0ZW5kcyBMYXlhLlZpZXcge1xyXG5cdFx0cHVibGljIGNvbnRhaW5lcjpMYXlhLkJveDtcblx0XHRwdWJsaWMgc3RhckJ0bjpMYXlhLkJ1dHRvbjtcblx0XHRwdWJsaWMgZW5kQnRuOkxheWEuQnV0dG9uO1xuXHRcdHB1YmxpYyBzZWFyY2hCdG46TGF5YS5CdXR0b247XG4gICAgICAgIHB1YmxpYyBzdGF0aWMgIHVpVmlldzphbnkgPXtcInR5cGVcIjpcIlZpZXdcIixcInByb3BzXCI6e1wid2lkdGhcIjoxMTM2LFwiaGVpZ2h0XCI6NjQwfSxcImNvbXBJZFwiOjIsXCJjaGlsZFwiOlt7XCJ0eXBlXCI6XCJCb3hcIixcInByb3BzXCI6e1widmFyXCI6XCJjb250YWluZXJcIixcInRvcFwiOjAsXCJyaWdodFwiOjAsXCJsZWZ0XCI6MCxcImJvdHRvbVwiOjB9LFwiY29tcElkXCI6NH0se1widHlwZVwiOlwiQnV0dG9uXCIsXCJwcm9wc1wiOntcInlcIjo3MCxcInhcIjozNTAsXCJ2YXJcIjpcInN0YXJCdG5cIixcInNraW5cIjpcImNvbXAvYnV0dG9uLnBuZ1wiLFwibGFiZWxcIjpcInN0YXJ0XCJ9LFwiY29tcElkXCI6Nn0se1widHlwZVwiOlwiQnV0dG9uXCIsXCJwcm9wc1wiOntcInlcIjo3MCxcInhcIjo0ODIsXCJ2YXJcIjpcImVuZEJ0blwiLFwic2tpblwiOlwiY29tcC9idXR0b24ucG5nXCIsXCJsYWJlbFwiOlwiZW5kQnRuXCJ9LFwiY29tcElkXCI6N30se1widHlwZVwiOlwiQnV0dG9uXCIsXCJwcm9wc1wiOntcInlcIjo3MCxcInhcIjo2MDMsXCJ2YXJcIjpcInNlYXJjaEJ0blwiLFwic2tpblwiOlwiY29tcC9idXR0b24ucG5nXCIsXCJsYWJlbFwiOlwic2VhcmNoXCJ9LFwiY29tcElkXCI6OH1dLFwibG9hZExpc3RcIjpbXCJjb21wL2J1dHRvbi5wbmdcIl0sXCJsb2FkTGlzdDNEXCI6W119O1xyXG4gICAgICAgIGNvbnN0cnVjdG9yKCl7IHN1cGVyKCl9XHJcbiAgICAgICAgY3JlYXRlQ2hpbGRyZW4oKTp2b2lkIHtcclxuICAgICAgICAgICAgc3VwZXIuY3JlYXRlQ2hpbGRyZW4oKTtcclxuICAgICAgICAgICAgdGhpcy5jcmVhdGVWaWV3KEFzdGFyVUkudWlWaWV3KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBleHBvcnQgY2xhc3MgVGVzdFNjZW5lVUkgZXh0ZW5kcyBMYXlhLlNjZW5lIHtcclxuXHRcdHB1YmxpYyBzY29yZUxibDpMYXlhLkxhYmVsO1xuXHRcdHB1YmxpYyB0aXBMYmxsOkxheWEuTGFiZWw7XG4gICAgICAgIGNvbnN0cnVjdG9yKCl7IHN1cGVyKCl9XHJcbiAgICAgICAgY3JlYXRlQ2hpbGRyZW4oKTp2b2lkIHtcclxuICAgICAgICAgICAgc3VwZXIuY3JlYXRlQ2hpbGRyZW4oKTtcclxuICAgICAgICAgICAgdGhpcy5sb2FkU2NlbmUoXCJ0ZXN0L1Rlc3RTY2VuZVwiKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBleHBvcnQgY2xhc3MgVmlld1Rlc3RVSSBleHRlbmRzIExheWEuVmlldyB7XHJcblx0XHRwdWJsaWMgQTE6TGF5YS5SYWRpbztcblx0XHRwdWJsaWMgQTI6TGF5YS5SYWRpbztcblx0XHRwdWJsaWMgQTM6TGF5YS5SYWRpbztcblx0XHRwdWJsaWMgQjE6TGF5YS5SYWRpbztcblx0XHRwdWJsaWMgQjI6TGF5YS5SYWRpbztcbiAgICAgICAgcHVibGljIHN0YXRpYyAgdWlWaWV3OmFueSA9e1widHlwZVwiOlwiVmlld1wiLFwicHJvcHNcIjp7XCJ3aWR0aFwiOjExMzYsXCJoZWlnaHRcIjo2NDB9LFwiY29tcElkXCI6MixcImNoaWxkXCI6W3tcInR5cGVcIjpcIlJhZGlvXCIsXCJwcm9wc1wiOntcInlcIjoxMjYsXCJ4XCI6MTcwLFwidmFyXCI6XCJBMVwiLFwic2tpblwiOlwiY29tcC9yYWRpby5wbmdcIixcImxhYmVsXCI6XCJBMVwifSxcImNvbXBJZFwiOjh9LHtcInR5cGVcIjpcIlJhZGlvXCIsXCJwcm9wc1wiOntcInlcIjoxNTQsXCJ4XCI6MTcwLFwidmFyXCI6XCJBMlwiLFwic2tpblwiOlwiY29tcC9yYWRpby5wbmdcIixcImxhYmVsXCI6XCJBMlwifSxcImNvbXBJZFwiOjl9LHtcInR5cGVcIjpcIlJhZGlvXCIsXCJwcm9wc1wiOntcInlcIjoxOTAsXCJ4XCI6MTcwLFwidmFyXCI6XCJBM1wiLFwic2tpblwiOlwiY29tcC9yYWRpby5wbmdcIixcImxhYmVsXCI6XCJBM1wifSxcImNvbXBJZFwiOjEwfSx7XCJ0eXBlXCI6XCJSYWRpb1wiLFwicHJvcHNcIjp7XCJ5XCI6MTI2LFwieFwiOjIzMyxcInZhclwiOlwiQjFcIixcInNraW5cIjpcImNvbXAvcmFkaW8ucG5nXCIsXCJsYWJlbFwiOlwiQjFcIn0sXCJjb21wSWRcIjoxMX0se1widHlwZVwiOlwiUmFkaW9cIixcInByb3BzXCI6e1wieVwiOjE1NCxcInhcIjoyMzMsXCJ2YXJcIjpcIkIyXCIsXCJza2luXCI6XCJjb21wL3JhZGlvLnBuZ1wiLFwibGFiZWxcIjpcIkIyXCJ9LFwiY29tcElkXCI6MTN9XSxcImxvYWRMaXN0XCI6W1wiY29tcC9yYWRpby5wbmdcIl0sXCJsb2FkTGlzdDNEXCI6W119O1xyXG4gICAgICAgIGNvbnN0cnVjdG9yKCl7IHN1cGVyKCl9XHJcbiAgICAgICAgY3JlYXRlQ2hpbGRyZW4oKTp2b2lkIHtcclxuICAgICAgICAgICAgc3VwZXIuY3JlYXRlQ2hpbGRyZW4oKTtcclxuICAgICAgICAgICAgdGhpcy5jcmVhdGVWaWV3KFZpZXdUZXN0VUkudWlWaWV3KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cciIsImV4cG9ydCBjbGFzcyBBcnJheVV0aWxze1xyXG4gICAgc3RhdGljIGZpbmQ8dj4oYXJyOnZbXSxjYjooZWxlOnYpPT5ib29sZWFuKTp2fG51bGx7XHJcbiAgICAgICAgZm9yKGxldCBpIG9mIGFycil7XHJcbiAgICAgICAgICAgIGlmKGNiKGkpKSByZXR1cm4gaTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB9XHJcblxyXG4gICAgLyoq6Zmk6YeNICovXHJcbiAgICBzdGF0aWMgdW5pcXVlKGFycjphbnlbXSk6YW55W117XHJcbiAgICAgICAgbGV0IGxlZnQ6bnVtYmVyID0gMCxyaWdodDpudW1iZXIgPSAwO1xyXG4gICAgICAgIHdoaWxlKGxlZnQgPCBhcnIubGVuZ3RoKXtcclxuICAgICAgICAgICAgcmlnaHQgPSBhcnIubGFzdEluZGV4T2YoYXJyW2xlZnRdLGxlZnQpXHJcbiAgICAgICAgICAgIHdoaWxlKGxlZnQgIT0gcmlnaHQpe1xyXG4gICAgICAgICAgICAgICAgYXJyLnNwbGljZShyaWdodCk7XHJcbiAgICAgICAgICAgICAgICByaWdodCA9IGFyci5sYXN0SW5kZXhPZihhcnJbbGVmdF0sbGVmdCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgbGVmdCsrO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gYXJyO1xyXG4gICAgfVxyXG5cclxufSIsIlxyXG5cclxuZXhwb3J0IGNsYXNzIE1hcFN0cnVjdCA8SywgVj57XHJcbiAgICBwcml2YXRlIGtleXM6IEtbXSA9IFtdXHJcbiAgICBwcml2YXRlIHZhbHVlczogVltdID0gW11cclxuICAgIHByaXZhdGUgX3NpemUgPSAwO1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICB9XHJcblxyXG4gICAgY2xlYXIoKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5rZXlzLmxlbmd0aCA9IHRoaXMudmFsdWVzLmxlbmd0aCA9IHRoaXMuX3NpemUgPSAwO1xyXG4gICAgfVxyXG5cclxuICAgIGRlbGV0ZShrZXk6IEspOiBib29sZWFuIHtcclxuICAgICAgICBsZXQgaWR4ID0gdGhpcy5rZXlzLmluZGV4T2Yoa2V5KTtcclxuICAgICAgICBpZiAoaWR4ID09IC0xKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5rZXlzLnNwbGljZShpZHgsIDEpO1xyXG4gICAgICAgIHRoaXMudmFsdWVzLnNwbGljZShpZHgsIDEpO1xyXG4gICAgICAgIHRoaXMuX3NpemUtLTtcclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxuICAgIGZvckVhY2goY2FsbGJhY2tmbjogKHZhbHVlOiBWLCBrZXk6IEssIG1hcDogdGhpcykgPT4gdm9pZCwgdGhpc0FyZz86IGFueSk6IHZvaWQge1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwLCBsZW4gPSB0aGlzLmtleXMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcclxuICAgICAgICAgICAgY2FsbGJhY2tmbih0aGlzLnZhbHVlc1tpXSwgdGhpcy5rZXlzW2ldLCB0aGlzKVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGdldChrZXk6IEspOiBWIHwgdW5kZWZpbmVkIHtcclxuICAgICAgICBsZXQgaWR4ID0gdGhpcy5rZXlzLmluZGV4T2Yoa2V5KTtcclxuICAgICAgICByZXR1cm4gdGhpcy52YWx1ZXNbaWR4XTtcclxuICAgIH1cclxuICAgIGhhcyhrZXk6IEspOiBib29sZWFuIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5rZXlzLmluZGV4T2Yoa2V5KSA+PSAwO1xyXG4gICAgfVxyXG4gICAgc2V0KGtleTogSywgdmFsdWU6IFYpOiB0aGlzIHtcclxuICAgICAgICBsZXQgaWR4ID0gdGhpcy5rZXlzLmluZGV4T2Yoa2V5KTtcclxuICAgICAgICBpZiAoaWR4ID49IDApIHtcclxuICAgICAgICAgICAgdGhpcy52YWx1ZXNbaWR4XSA9IHZhbHVlO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMua2V5cy5wdXNoKGtleSlcclxuICAgICAgICAgICAgdGhpcy52YWx1ZXMucHVzaCh2YWx1ZSk7XHJcbiAgICAgICAgICAgIHRoaXMuX3NpemUrKztcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcbiAgICBnZXQgc2l6ZSgpOiBudW1iZXIge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9zaXplO1xyXG4gICAgfVxyXG59IiwiXHJcbmV4cG9ydCBhYnN0cmFjdCBjbGFzcyBQb29sQmFzZTxUPntcclxuICAgIHByb3RlY3RlZCBzdGF0aWMgX2luczogYW55O1xyXG4gICAgcHJvdGVjdGVkIHBvb2w6IFRbXSA9IFtdXHJcbiAgICBzdGF0aWMgZ2V0IGlucygpIHtcclxuICAgICAgICBsZXQgdDogYW55ID0gdGhpcztcclxuICAgICAgICBpZiAoIXRbXCJfaW5zXCJdKSB0W1wiX2luc1wiXSA9IG5ldyB0O1xyXG4gICAgICAgIHJldHVybiB0W1wiX2luc1wiXTtcclxuICAgIH1cclxuXHJcbiAgICBjcmVhdGUoLi4uYXJncyk6IGFueSB7IH1cclxuICAgIHJlbGVhc2Uobm9kZTogVCk6IHZvaWQgeyB9XHJcbn0iLCJpbXBvcnQgTWFwTm9kZVBvb2wgZnJvbSBcIi4vaXRlbS9NYXBOb2RlUG9vbFwiO1xyXG5pbXBvcnQgTWFwR3JpZFBvb2wgZnJvbSBcIi4vaXRlbS9NYXBHcmlkUG9vbFwiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9vbFV0aWwge1xyXG4gICAgc3RhdGljIGdldCBNYXBOb2RlKCk6IE1hcE5vZGVQb29sIHtcclxuICAgICAgICByZXR1cm4gTWFwTm9kZVBvb2wuaW5zO1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBnZXQgTWFwR3JpZCgpOiBNYXBHcmlkUG9vbCB7XHJcbiAgICAgICAgcmV0dXJuIE1hcEdyaWRQb29sLmlucztcclxuICAgIH1cclxufVxyXG4iLCJcclxuaW1wb3J0IE1hcEdyaWQgZnJvbSBcIi4uLy4uLy4uL2JhdHRsZS9tYXAvdmlldy9NYXBHcmlkXCI7XHJcbmltcG9ydCB7IFBvb2xCYXNlIH0gZnJvbSBcIi4uL1Bvb2xCYXNlXCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBNYXBHcmlkUG9vbCBleHRlbmRzIFBvb2xCYXNlPE1hcEdyaWQ+IHtcclxuICAgIGNyZWF0ZShza2luOiBzdHJpbmcpOiBNYXBHcmlkIHtcclxuICAgICAgICBsZXQgbm9kZSA9IHRoaXMucG9vbC5wb3AoKSB8fCBuZXcgTWFwR3JpZDtcclxuICAgICAgICBub2RlLnNraW4gPSBza2luO1xyXG4gICAgICAgIHJldHVybiBub2RlO1xyXG4gICAgfVxyXG5cclxuICAgIHJlbGVhc2Uobm9kZTogTWFwR3JpZCk6IHZvaWQge1xyXG4gICAgICAgIG5vZGUucmVsZWFzZSgpO1xyXG4gICAgICAgIHRoaXMucG9vbC5wdXNoKG5vZGUpO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IHsgSU1hcE5vZGUgfSBmcm9tIFwiLi4vLi4vLi4vYmF0dGxlL21hcC9BU3RhclwiO1xyXG5pbXBvcnQgTWFwTm9kZSBmcm9tIFwiLi4vLi4vLi4vYmF0dGxlL21hcC9NYXBOb2RlXCI7XHJcbmltcG9ydCB7IFBvb2xCYXNlIH0gZnJvbSBcIi4uL1Bvb2xCYXNlXCI7XHJcblxyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTWFwTm9kZVBvb2wgZXh0ZW5kcyBQb29sQmFzZTxNYXBOb2RlPntcclxuICAgIGNyZWF0ZSh4OiBudW1iZXIsIHk6IG51bWJlciwgd2lkdGg6IG51bWJlciwgaGVpZ2h0OiBudW1iZXIpOiBNYXBOb2RlIHtcclxuICAgICAgICBsZXQgbm9kZTogTWFwTm9kZSA9IHRoaXMucG9vbC5wb3AoKSB8fCBuZXcgTWFwTm9kZTtcclxuICAgICAgICBub2RlLnNldFRvKHgsIHksIHdpZHRoLCBoZWlnaHQpO1xyXG4gICAgICAgIHJldHVybiBub2RlO1xyXG4gICAgfVxyXG5cclxuICAgIHJlbGVhc2Uobm9kZTpNYXBOb2RlKTp2b2lke1xyXG4gICAgICAgIG5vZGUucmVsZWFzZSgpO1xyXG4gICAgICAgIHRoaXMucG9vbC5wdXNoKG5vZGUpO1xyXG4gICAgfVxyXG59IiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgTW92aWVNZ3Ige1xyXG4gICAgcHJpdmF0ZSBfbWFwOiB7IFtrZXk6IHN0cmluZ106IHtba2V5OnN0cmluZ106TGF5YS5UZXh0dXJlfSB9ID0ge307XHJcblxyXG4gICAgcHJpdmF0ZSBzdGF0aWMgX2luczpNb3ZpZU1ncjtcclxuICAgIHN0YXRpYyBnZXQgaW5zKCk6TW92aWVNZ3J7XHJcbiAgICAgICAgaWYoIU1vdmllTWdyLl9pbnMpe1xyXG4gICAgICAgICAgICBNb3ZpZU1nci5faW5zID0gbmV3IE1vdmllTWdyO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gTW92aWVNZ3IuX2lucztcclxuICAgIH1cclxuICAgIGFzeW5jIGdldFRleHR1cmUocGF0aDogc3RyaW5nKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLl9tYXBbcGF0aF0pIHtcclxuICAgICAgICAgICAgYXdhaXQgbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgbGV0IGltZ1BhdGggPSBwYXRoLnJlcGxhY2UoXCIuanNvblwiLFwiLnBuZ1wiKVxyXG4gICAgICAgICAgICAgICAgTGF5YS5sb2FkZXIubG9hZChbcGF0aCxpbWdQYXRoXSwgTGF5YS5IYW5kbGVyLmNyZWF0ZSh0aGlzLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IHJlczogeyBba2V5OiBzdHJpbmddOiBMYXlhLlRleHR1cmUgfSA9IHt9O1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBqc29uOiBhbnkgPSBMYXlhLmxvYWRlci5nZXRSZXMocGF0aCk7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IGNmZzphbnk7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IHRleHR1cmU6TGF5YS5UZXh0dXJlID0gTGF5YS5Mb2FkZXIuZ2V0UmVzKGltZ1BhdGgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGsgaW4ganNvbi5yZXMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2ZnID0ganNvbi5yZXNba107XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc1trXSA9IExheWEuVGV4dHVyZS5jcmVhdGUodGV4dHVyZSwgY2ZnLngsIGNmZy55LCBjZmcudywgY2ZnLmgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9tYXBbcGF0aF0gPSByZXM7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgpO1xyXG4gICAgICAgICAgICAgICAgfSksbnVsbCxMYXlhLkxvYWRlci5BVExBUyk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gIFByb21pc2UucmVzb2x2ZSh0aGlzLl9tYXBbcGF0aF0pO1xyXG5cclxuICAgIH1cclxufSIsImltcG9ydCBNb3ZpZU1nciBmcm9tIFwiLi9Nb3ZpZS9Nb3ZpZU1nclwiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVmlldzEgZXh0ZW5kcyBMYXlhLlZpZXd7XHJcbiAgICBjb25zdHJ1Y3Rvcigpe1xyXG4gICAgICAgIHN1cGVyKClcclxuICAgICAgICBsZXQgbGFiID0gbmV3IExheWEuTGFiZWxcclxuICAgICAgICBsYWIudGV4dCA9IFwiaGVsbG9cIlxyXG4gICAgICAgIGxhYi5jb2xvciA9IFwiI0ZGMDAwMFwiXHJcbiAgICAgICAgdGhpcy5hZGRDaGlsZChsYWIpO1xyXG4gICAgICAgIGxldCBpbWcgPSBuZXcgTGF5YS5JbWFnZVxyXG4gICAgICAgIGltZy5za2luID0gXCJjb21wL2ltYWdlLnBuZ1wiLy9cInRlc3QvYzEucG5nXCJcclxuICAgICAgICB0aGlzLmFkZENoaWxkKGltZylcclxuICAgICAgICBNb3ZpZU1nci5pbnMuZ2V0VGV4dHVyZShcImFzc2V0LzAwMTEwLmpzb25cIik7XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBWaWV3MiBleHRlbmRzIExheWEuVmlld3tcclxuICAgIGNvbnN0cnVjdG9yKCl7XHJcbiAgICAgICAgc3VwZXIoKVxyXG4gICAgfVxyXG59IiwiaW1wb3J0IFJlZFRpcFRlc3QgZnJvbSBcIi4uLy4uL3JlZFRpcC9SZWRUaXBUZXN0XCI7XHJcbmltcG9ydCBJVmlldyBmcm9tIFwiLi9JVmlld1wiO1xyXG5pbXBvcnQgVmlldzEsIHsgVmlldzIgfSBmcm9tIFwiLi4vVmlldzFcIjtcclxuaW1wb3J0IEFzdGFyVGVzdCBmcm9tIFwiLi4vLi4vYmF0dGxlL21hcC90ZXN0L0FzdGFyVGVzdFwiO1xyXG5sZXQgaWQ6IG51bWJlciA9IDE7XHJcbmNvbnN0IG1hcDogeyBba2V5OiBudW1iZXJdOiBbbmV3ICgpID0+IElWaWV3LCBzdHJpbmdbXSwgc3RyaW5nW10sIHBhbmVsTGF5ZXJdIH0gPSB7fTtcclxuY29uc3QgcGFuZWxJbnN0YW5jZU1hcDogeyBbaWQ6IG51bWJlcl06IElWaWV3IH0gPSB7fTtcclxuLyoqXHJcbiAqIFxyXG4gKiBAcGFyYW0gdmlldyDms6jlhozpnaLmnb9cclxuICogQHBhcmFtIGRlcGVuZHRlbmNlQXRsYXMg5L6d6LWW5Zu+6ZuGXHJcbiAqIEBwYXJhbSBkZXBlbmR0ZW5jZUNmZ3Mg5L6d6LWW6YWN572uXHJcbiAqIEByZXR1cm5zIOmdouadv2lkXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gcmVnaXN0ZXJQYW5lbCh2aWV3OiBuZXcgKCkgPT4gSVZpZXcsIGxheWVyOiBwYW5lbExheWVyLCBkZXBlbmR0ZW5jZUF0bGFzPzogc3RyaW5nW10sIGRlcGVuZHRlbmNlQ2Zncz86IHN0cmluZ1tdKTogbnVtYmVyIHtcclxuICAgIGxldCBrZXkgPSBpZCsrO1xyXG4gICAgbWFwW2tleV0gPSBbdmlldywgZGVwZW5kdGVuY2VBdGxhcywgZGVwZW5kdGVuY2VDZmdzLCBsYXllcl07XHJcbiAgICByZXR1cm4ga2V5O1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gY2FjaGVQYW5lbChpZDogbnVtYmVyLCBwYW5lbDogSVZpZXcpOiB2b2lkIHtcclxuICAgIHBhbmVsSW5zdGFuY2VNYXBbaWRdID0gcGFuZWw7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBjbGVhclBhbmVsKGlkOm51bWJlcik6dm9pZHtcclxuICAgIGRlbGV0ZSBwYW5lbEluc3RhbmNlTWFwW2lkXTtcclxufVxyXG5cclxuLyoq6Z2i5p2/5a6e5L6LICovXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRQYW5lbChpZDogbnVtYmVyKTogSVZpZXcgfCBudWxsIHtcclxuICAgIHJldHVybiBwYW5lbEluc3RhbmNlTWFwW2lkXVxyXG59XHJcblxyXG4vKirpnaLmnb/phY3nva4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGdldFBhbmVsVm8oaWQ6IG51bWJlcikge1xyXG4gICAgcmV0dXJuIG1hcFtpZF07XHJcbn1cclxuXHJcblxyXG5cclxuZXhwb3J0IGVudW0gcGFuZWxMYXllciB7XHJcbiAgICBiYXNlLCBtaWRkbGUsIHRvcFxyXG59XHJcblxyXG5leHBvcnQgZW51bSBQYW5lbFJlZ2lzdGVyIHtcclxuICAgIFBBTkVMMSA9IHJlZ2lzdGVyUGFuZWwoUmVkVGlwVGVzdCwgcGFuZWxMYXllci5iYXNlLCBbXCJyZXMvYXRsYXMvY29tcC5hdGxhc1wiXSksXHJcbiAgICBQQU5FTDIgPSByZWdpc3RlclBhbmVsKFZpZXcxLHBhbmVsTGF5ZXIuYmFzZSxbXCJyZXMvYXRsYXMvdGVzdC5hdGxhc1wiXSksXHJcbiAgICBQQU5FTDMgPSByZWdpc3RlclBhbmVsKFZpZXcyLHBhbmVsTGF5ZXIuYmFzZSksXHJcbiAgICBQQU5FTDQgPSByZWdpc3RlclBhbmVsKEFzdGFyVGVzdCxwYW5lbExheWVyLmJhc2UsW1wicmVzL2F0bGFzL2NvbXAuYXRsYXNcIl0pXHJcbn1cclxuIiwiaW1wb3J0IFJlc291cmNlTWdyIGZyb20gXCIuLi8uLi9SZXNvdXJjZU1nclwiO1xyXG5pbXBvcnQgSVZpZXcgZnJvbSBcIi4vSVZpZXdcIjtcclxuaW1wb3J0IHsgY2FjaGVQYW5lbCwgZ2V0UGFuZWwsIGdldFBhbmVsVm8sIHBhbmVsTGF5ZXIsIFBhbmVsUmVnaXN0ZXIsIGNsZWFyUGFuZWwgfSBmcm9tIFwiLi9QYW5lbFJlZ2lzdGVyXCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBWaWV3TWdyIGV4dGVuZHMgTGF5YS5FdmVudERpc3BhdGNoZXIge1xyXG4gICAgcHJpdmF0ZSBwYW5lbExheWVyOiBMYXlhLkJveFxyXG4gICAgcHJpdmF0ZSBzdGF0aWMgX2luczogVmlld01ncjtcclxuICAgIHByaXZhdGUgY3VycmVudFBhbmVsTWFwOiB7IFtsYXllcjogbnVtYmVyXTogbnVtYmVyIH0gPSB7fTsvL+WQhOS4quWxgue6p+aJk+W8gOeahOmdouadv1xyXG4gICAgcHJpdmF0ZSBjYWNoZVBhbmVsOiBQYW5lbFJlZ2lzdGVyW10gPSBbXTsvL+e8k+WtmOmdouadv1xyXG4gICAgcmVhZG9ubHkgbWF4Q2FjaGVOdW06IG51bWJlciA9IDA7Ly/nvJPlrZjpobXpnaLmlbDph49cclxuICAgIC8vIHByaXZhdGUgaGlzdG9yeUFycjogSVZpZXdbXSA9IFtdO1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgc3VwZXIoKTtcclxuICAgICAgICBMYXlhLnN0YWdlLmFkZENoaWxkKHRoaXMucGFuZWxMYXllciA9IG5ldyBMYXlhLkJveClcclxuICAgIH1cclxuICAgIHN0YXRpYyBnZXQgaW5zKCk6IFZpZXdNZ3Ige1xyXG4gICAgICAgIHJldHVybiBWaWV3TWdyLl9pbnMgfHwgKFZpZXdNZ3IuX2lucyA9IG5ldyBWaWV3TWdyKVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog5omT5byA6Z2i5p2/XHJcbiAgICAgKiBAcGFyYW0gaWQg5rOo5YaM6Z2i5p2/XHJcbiAgICAgKiBAcGFyYW0gYXJncyDpnaLmnb9vcGVu5pa55rOV6LCD55So5Y+C5pWwXHJcbiAgICAgKi9cclxuICAgIG9wZW5QYW5lbChpZDogUGFuZWxSZWdpc3RlciwgLi4uYXJnczogYW55W10pIHtcclxuICAgICAgICBsZXQgdm8gPSBnZXRQYW5lbFZvKGlkKTtcclxuICAgICAgICBpZiAodGhpcy5jdXJyZW50UGFuZWxNYXBbdm9bM11dID09PSBpZCkgcmV0dXJuO1xyXG4gICAgICAgIHRoaXMuY2xvc2VQYW5lbCh0aGlzLmN1cnJlbnRQYW5lbE1hcFt2b1szXV0pO1xyXG4gICAgICAgIHRoaXMuY3VycmVudFBhbmVsTWFwW3ZvWzNdXSA9IGlkO1xyXG4gICAgICAgIGxldCBkZXBlbmRlbmNlQXJyOiBzdHJpbmdbXSA9IFtdO1xyXG4gICAgICAgIGlmICh2b1sxXSkge1xyXG4gICAgICAgICAgICBmb3IgKGxldCB1cmwgb2Ygdm9bMV0pIHtcclxuICAgICAgICAgICAgICAgIFJlc291cmNlTWdyLmlucy5hZGRBdGxhc1JlZnJlbmNlKHVybCk7Ly/mt7vliqDlm77pm4blvJXnlKjorqHmlbBcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBkZXBlbmRlbmNlQXJyID0gZGVwZW5kZW5jZUFyci5jb25jYXQodm9bMV0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICB2b1syXSAmJiAoZGVwZW5kZW5jZUFyciA9IGRlcGVuZGVuY2VBcnIuY29uY2F0KHZvWzJdKSk7XHJcbiAgICAgICAgaWYgKGRlcGVuZGVuY2VBcnIubGVuZ3RoKVxyXG4gICAgICAgICAgICBMYXlhLmxvYWRlci5sb2FkKGRlcGVuZGVuY2VBcnIsIExheWEuSGFuZGxlci5jcmVhdGUodGhpcywgdGhpcy5sb2FkQ29tcGxldGUsIFtpZCwgLi4uYXJnc10pKTtcclxuICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgIHRoaXMubG9hZENvbXBsZXRlKGlkLCAuLi5hcmdzKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOWFs+mXremdouadv1xyXG4gICAgICogQHBhcmFtIGlkIOazqOWGjOmdouadv2lkXHJcbiAgICAgKi9cclxuICAgIGNsb3NlUGFuZWwoaWQ6IFBhbmVsUmVnaXN0ZXIpOiB2b2lkIHtcclxuICAgICAgICBpZiAoIWlkKSByZXR1cm47XHJcbiAgICAgICAgbGV0IHZvID0gZ2V0UGFuZWxWbyhpZCk7XHJcbiAgICAgICAgaWYgKCF2bykge1xyXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKGDmnKrms6jlhozpnaLmnb86JHtpZH1gKVxyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIHRoaXMuY2xlYXJQYW5lbERlcGVuZGVuY2UoaWQpO1xyXG4gICAgICAgIC8v5Yqg5YWl57yT5a2Y6Zif5YiXXHJcbiAgICAgICAgbGV0IGlkeCA9IHRoaXMuY2FjaGVQYW5lbC5pbmRleE9mKGlkKTtcclxuICAgICAgICBpZiAoaWR4ID49IDApIHtcclxuICAgICAgICAgICAgdGhpcy5jYWNoZVBhbmVsLnNwbGljZShpZHgsIDEpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmNhY2hlUGFuZWwucHVzaChpZCk7XHJcbiAgICAgICAgdGhpcy5jdXJyZW50UGFuZWxNYXBbdm9bM11dID0gbnVsbDtcclxuICAgICAgICBsZXQgcGFuZWwgPSBnZXRQYW5lbChpZCk7XHJcbiAgICAgICAgaWYgKHBhbmVsKSB7XHJcbiAgICAgICAgICAgIHBhbmVsLnJlbW92ZVNlbGYoKTtcclxuICAgICAgICAgICAgcGFuZWwuY2xvc2UoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDlsJ3or5XplIDmr4HpnaLmnb9cclxuICAgICAqIEBwYXJhbSBjb3VudCDplIDmr4HmlbDph49cclxuICAgICAqL1xyXG4gICAgdHJ5RGVzdG9yeVBhbmVsKGNvdW50OiBudW1iZXIgPSAxKTogdm9pZCB7XHJcbiAgICAgICAgaWYgKHRoaXMuY2FjaGVQYW5lbC5sZW5ndGggPD0gdGhpcy5tYXhDYWNoZU51bSkgcmV0dXJuO1xyXG4gICAgICAgIGxldCBwYW5lbHM6IFBhbmVsUmVnaXN0ZXJbXSA9IHRoaXMuY2FjaGVQYW5lbC5zcGxpY2UoMCwgdGhpcy5jYWNoZVBhbmVsLmxlbmd0aCAtIHRoaXMubWF4Q2FjaGVOdW0gPD0gY291bnQgPyB0aGlzLmNhY2hlUGFuZWwubGVuZ3RoIC0gdGhpcy5tYXhDYWNoZU51bSA6IGNvdW50KVxyXG4gICAgICAgIHdoaWxlIChwYW5lbHMubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIGxldCBpZDogUGFuZWxSZWdpc3RlciA9IHBhbmVscy5wb3AoKTtcclxuICAgICAgICAgICAgdGhpcy5jbGVhclBhbmVsRGVwZW5kZW5jZShpZCk7XHJcbiAgICAgICAgICAgIGlmIChnZXRQYW5lbChpZCkpXHJcbiAgICAgICAgICAgICAgICBnZXRQYW5lbChpZCkuZGVzdHJveSh0cnVlKTtcclxuICAgICAgICAgICAgY2xlYXJQYW5lbChpZCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgY2xlYXJQYW5lbERlcGVuZGVuY2UoaWQ6IG51bWJlcik6IHZvaWQge1xyXG4gICAgICAgIGxldCB2byA9IGdldFBhbmVsVm8oaWQpO1xyXG4gICAgICAgIGlmICh2b1sxXSkge1xyXG4gICAgICAgICAgICBmb3IgKGxldCBrIG9mIHZvWzFdKSB7XHJcbiAgICAgICAgICAgICAgICBSZXNvdXJjZU1nci5pbnMucmVtb3ZlQXRsYXNSZWZyZW5jZShrLCB0cnVlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcblxyXG4gICAgcHJpdmF0ZSBsb2FkQ29tcGxldGUoaWQ6IG51bWJlciwgLi4uYXJnczogYW55W10pOiB2b2lkIHtcclxuICAgICAgICBsZXQgcGFuZWwgPSBnZXRQYW5lbChpZCk7XHJcbiAgICAgICAgaWYgKCFwYW5lbCkge1xyXG4gICAgICAgICAgICBwYW5lbCA9IG5ldyAoZ2V0UGFuZWxWbyhpZClbMF0pO1xyXG4gICAgICAgICAgICBjYWNoZVBhbmVsKGlkLCBwYW5lbCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHBhbmVsLm9wZW4oLi4uYXJncylcclxuICAgICAgICBsZXQgdm8gPSBnZXRQYW5lbFZvKGlkKTtcclxuICAgICAgICBpZiAodGhpcy5jdXJyZW50UGFuZWxNYXBbdm9bM11dID09PSBpZCkge1xyXG4gICAgICAgICAgICB0aGlzLnBhbmVsTGF5ZXIuYWRkQ2hpbGQocGFuZWwpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufSJdfQ==
